(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+7AZ":function(n,t,e){"use strict";e.r(t),e.d(t,"__extends",function(){return l}),e.d(t,"__assign",function(){return o}),e.d(t,"__rest",function(){return u}),e.d(t,"__decorate",function(){return i}),e.d(t,"__param",function(){return a}),e.d(t,"__metadata",function(){return s}),e.d(t,"__awaiter",function(){return c}),e.d(t,"__generator",function(){return p}),e.d(t,"__exportStar",function(){return f}),e.d(t,"__values",function(){return h}),e.d(t,"__read",function(){return d}),e.d(t,"__spread",function(){return b}),e.d(t,"__await",function(){return g}),e.d(t,"__asyncGenerator",function(){return m}),e.d(t,"__asyncDelegator",function(){return v}),e.d(t,"__asyncValues",function(){return y}),e.d(t,"__makeTemplateObject",function(){return _}),e.d(t,"__importStar",function(){return w}),e.d(t,"__importDefault",function(){return x});var r=function(n,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])})(n,t)};function l(n,t){function e(){this.constructor=n}r(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var o=function(){return(o=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n}).apply(this,arguments)};function u(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(n);l<r.length;l++)t.indexOf(r[l])<0&&(e[r[l]]=n[r[l]])}return e}function i(n,t,e,r){var l,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(n,t,e,r);else for(var i=n.length-1;i>=0;i--)(l=n[i])&&(u=(o<3?l(u):o>3?l(t,e,u):l(t,e))||u);return o>3&&u&&Object.defineProperty(t,e,u),u}function a(n,t){return function(e,r){t(e,r,n)}}function s(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)}function c(n,t,e,r){return new(e||(e=Promise))(function(l,o){function u(n){try{a(r.next(n))}catch(t){o(t)}}function i(n){try{a(r.throw(n))}catch(t){o(t)}}function a(n){n.done?l(n.value):new e(function(t){t(n.value)}).then(u,i)}a((r=r.apply(n,t||[])).next())})}function p(n,t){var e,r,l,o,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(l=2&o[0]?r.return:o[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,o[1])).done)return l;switch(r=0,l&&(o=[2&o[0],l.value]),o[0]){case 0:case 1:l=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(l=(l=u.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){u.label=o[1];break}if(6===o[0]&&u.label<l[1]){u.label=l[1],l=o;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(o);break}l[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(n,u)}catch(i){o=[6,i],r=0}finally{e=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}function f(n,t){for(var e in n)t.hasOwnProperty(e)||(t[e]=n[e])}function h(n){var t="function"==typeof Symbol&&n[Symbol.iterator],e=0;return t?t.call(n):{next:function(){return n&&e>=n.length&&(n=void 0),{value:n&&n[e++],done:!n}}}}function d(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,l,o=e.call(n),u=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(i){l={error:i}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(l)throw l.error}}return u}function b(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(d(arguments[t]));return n}function g(n){return this instanceof g?(this.v=n,this):new g(n)}function m(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,l=e.apply(n,t||[]),o=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(n){l[n]&&(r[n]=function(t){return new Promise(function(e,r){o.push([n,t,e,r])>1||i(n,t)})})}function i(n,t){try{(e=l[n](t)).value instanceof g?Promise.resolve(e.value.v).then(a,s):c(o[0][2],e)}catch(r){c(o[0][3],r)}var e}function a(n){i("next",n)}function s(n){i("throw",n)}function c(n,t){n(t),o.shift(),o.length&&i(o[0][0],o[0][1])}}function v(n){var t,e;return t={},r("next"),r("throw",function(n){throw n}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,l){t[r]=n[r]?function(t){return(e=!e)?{value:g(n[r](t)),done:"return"===r}:l?l(t):t}:l}}function y(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=h(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(e){t[e]=n[e]&&function(t){return new Promise(function(r,l){!function(n,t,e,r){Promise.resolve(r).then(function(t){n({value:t,done:e})},t)}(r,l,(t=n[e](t)).done,t.value)})}}}function _(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function w(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function x(n){return n&&n.__esModule?n:{default:n}}},"30Go":function(n,t,e){"use strict";e.r(t),e.d(t,"__extends",function(){return l}),e.d(t,"__assign",function(){return o}),e.d(t,"__rest",function(){return u}),e.d(t,"__decorate",function(){return i}),e.d(t,"__param",function(){return a}),e.d(t,"__metadata",function(){return s}),e.d(t,"__awaiter",function(){return c}),e.d(t,"__generator",function(){return p}),e.d(t,"__exportStar",function(){return f}),e.d(t,"__values",function(){return h}),e.d(t,"__read",function(){return d}),e.d(t,"__spread",function(){return b}),e.d(t,"__await",function(){return g}),e.d(t,"__asyncGenerator",function(){return m}),e.d(t,"__asyncDelegator",function(){return v}),e.d(t,"__asyncValues",function(){return y}),e.d(t,"__makeTemplateObject",function(){return _}),e.d(t,"__importStar",function(){return w}),e.d(t,"__importDefault",function(){return x});var r=function(n,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])})(n,t)};function l(n,t){function e(){this.constructor=n}r(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var o=function(){return(o=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var l in t=arguments[e])Object.prototype.hasOwnProperty.call(t,l)&&(n[l]=t[l]);return n}).apply(this,arguments)};function u(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(n);l<r.length;l++)t.indexOf(r[l])<0&&(e[r[l]]=n[r[l]])}return e}function i(n,t,e,r){var l,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(n,t,e,r);else for(var i=n.length-1;i>=0;i--)(l=n[i])&&(u=(o<3?l(u):o>3?l(t,e,u):l(t,e))||u);return o>3&&u&&Object.defineProperty(t,e,u),u}function a(n,t){return function(e,r){t(e,r,n)}}function s(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)}function c(n,t,e,r){return new(e||(e=Promise))(function(l,o){function u(n){try{a(r.next(n))}catch(t){o(t)}}function i(n){try{a(r.throw(n))}catch(t){o(t)}}function a(n){n.done?l(n.value):new e(function(t){t(n.value)}).then(u,i)}a((r=r.apply(n,t||[])).next())})}function p(n,t){var e,r,l,o,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(l=2&o[0]?r.return:o[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,o[1])).done)return l;switch(r=0,l&&(o=[2&o[0],l.value]),o[0]){case 0:case 1:l=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(l=(l=u.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){u.label=o[1];break}if(6===o[0]&&u.label<l[1]){u.label=l[1],l=o;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(o);break}l[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(n,u)}catch(i){o=[6,i],r=0}finally{e=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}function f(n,t){for(var e in n)t.hasOwnProperty(e)||(t[e]=n[e])}function h(n){var t="function"==typeof Symbol&&n[Symbol.iterator],e=0;return t?t.call(n):{next:function(){return n&&e>=n.length&&(n=void 0),{value:n&&n[e++],done:!n}}}}function d(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,l,o=e.call(n),u=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(i){l={error:i}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(l)throw l.error}}return u}function b(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(d(arguments[t]));return n}function g(n){return this instanceof g?(this.v=n,this):new g(n)}function m(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,l=e.apply(n,t||[]),o=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(n){l[n]&&(r[n]=function(t){return new Promise(function(e,r){o.push([n,t,e,r])>1||i(n,t)})})}function i(n,t){try{(e=l[n](t)).value instanceof g?Promise.resolve(e.value.v).then(a,s):c(o[0][2],e)}catch(r){c(o[0][3],r)}var e}function a(n){i("next",n)}function s(n){i("throw",n)}function c(n,t){n(t),o.shift(),o.length&&i(o[0][0],o[0][1])}}function v(n){var t,e;return t={},r("next"),r("throw",function(n){throw n}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,l){t[r]=n[r]?function(t){return(e=!e)?{value:g(n[r](t)),done:"return"===r}:l?l(t):t}:l}}function y(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=h(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(e){t[e]=n[e]&&function(t){return new Promise(function(r,l){!function(n,t,e,r){Promise.resolve(r).then(function(t){n({value:t,done:e})},t)}(r,l,(t=n[e](t)).done,t.value)})}}}function _(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}function w(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var e in n)Object.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t.default=n,t}function x(n){return n&&n.__esModule?n:{default:n}}},OidQ:function(n,t,e){"use strict";e.r(t);var r=e("CcnG"),l=e("AytR").a.storageBucket,o=function(){return function(){}}(),u=e("pMnS"),i=e("ZYCi"),a=e("Ip0R"),s=(e("dJ3e"),e("VnD/")),c=function(){function n(n){this.authService=n}return n.prototype.ngOnInit=function(){this.user$=this.authService.user$.pipe(Object(s.a)(function(n){return!!n}))},n.prototype.onLogout=function(){this.authService.logout()},n}(),p=e("7dP1"),f=r.nb({encapsulation:0,styles:[[""]],data:{}});function h(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,12,"nav",[["class","navbar navbar-light bg-primary"]],null,null,null,null,null)),(n()(),r.pb(1,0,null,null,5,"a",[["class","navbar-brand"],["routerLink","/contacts"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==r.xb(n,2).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),r.ob(2,671744,null,0,i.p,[i.o,i.a,a.h],{routerLink:[0,"routerLink"]},null),(n()(),r.pb(3,0,null,null,1,"div",[["class","d-inline text-danger align-center bg-white rounded-circle mr-2"]],null,null,null,null,null)),(n()(),r.pb(4,0,null,null,0,"img",[["alt",""],["class","d-inline-block align-top"],["height","30"],["src","../../../../assets/icons/phone.svg"],["width","30"]],null,null,null,null,null)),(n()(),r.pb(5,0,null,null,1,"p",[["class","text-white d-inline"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Phonebook"])),(n()(),r.pb(7,0,null,null,0,"img",[["alt",""],["class","d-inline align-top mr-2 ml-auto"],["height","20"],["src","../../../../assets/icons/user-circle-solid.svg"],["width","20"]],null,null,null,null,null)),(n()(),r.pb(8,0,null,null,2,"p",[["class","text-white align-center mb-0 mr-2"]],null,null,null,null,null)),(n()(),r.Db(9,null,["",""])),r.zb(131072,a.b,[r.h]),(n()(),r.pb(11,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,t,e){var r=!0;return"click"===t&&(r=!1!==n.component.onLogout()&&r),r},null,null)),(n()(),r.Db(-1,null,["Logout"]))],function(n,t){n(t,2,0,"/contacts")},function(n,t){var e=t.component;n(t,1,0,r.xb(t,2).target,r.xb(t,2).href),n(t,9,0,r.Eb(t,9,0,r.xb(t,10).transform(e.user$)).name)})}var d=e("26FU"),b=e("qc5V"),g=function(){function n(n,t){this.apiService=n,this.router=t,this.contacts=null,this.contacts$=new d.a(null),this.loading$=new d.a(!1),this.selectedContact$=new d.a(null),this.updateErrors$=new d.a(null),this.createErrors$=new d.a(null)}return n.prototype.get=function(){var n=this;this.loading$.next(!0),this.apiService.get("/contacts").subscribe(function(t){n.loading$.next(!1),n.contacts=t,n.contacts$.next(n.contacts)},function(t){n.loading$.next(!1)})},n.prototype.create=function(n){var t=this;this.apiService.post("/contacts",n).subscribe(function(n){t.loading$.next(!1),t.contacts.push(n),t.contacts$.next(t.contacts),t.router.navigate(["/contacts"])},function(n){t.loading$.next(!1),t.createErrors$.next(n)})},n.prototype.put=function(n){var t=this;this.apiService.put("/contacts/"+this.selectedContact._id,n).subscribe(function(n){t.contacts=t.contacts.map(function(t){return t._id===n._id?n:t}),t.loading$.next(!1),t.contacts$.next(t.contacts),t.selectedContact$.next(n),t.selectedContact=n,t.router.navigate(["/contacts",t.selectedContact._id])},function(n){t.loading$.next(!1),t.updateErrors$.next(n)})},n.prototype.getDetails=function(n){var t=this;this.loading$.next(!0),this.apiService.get("/contacts/"+n).subscribe(function(n){t.loading$.next(!1),t.selectedContact=n,t.selectedContact$.next(n)},function(n){t.loading$.next(!1)})},n.prototype.clearDetails=function(){this.selectedContact=null,this.selectedContact$.next(null)},n}(),m=function(){function n(n){this.contactsService=n}return n.prototype.ngOnInit=function(){this.contactsService.get()},n}(),v=r.nb({encapsulation:0,styles:[[".c-wrapper[_ngcontent-%COMP%]{height:100vh;max-width:1400px;margin:0 auto;display:flex;flex-flow:column;position:relative}.c-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:100}.c-content[_ngcontent-%COMP%]{margin-top:56px;flex-grow:1}.c-plus-icon[_ngcontent-%COMP%]{width:20px;height:20px;background:url(plus-solid.1e8a2cf9173583f9ee50.svg)}.c-new-contact-button[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px}"]],data:{}});function y(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,7,"div",[["class","c-wrapper"]],null,null,null,null,null)),(n()(),r.pb(1,0,null,null,3,"div",[["class","c-header row m-0"]],null,null,null,null,null)),(n()(),r.pb(2,0,null,null,2,"div",[["class","col-12 p-0"]],null,null,null,null,null)),(n()(),r.pb(3,0,null,null,1,"app-header",[],null,null,null,h,f)),r.ob(4,114688,null,0,c,[p.a],null,null),(n()(),r.pb(5,0,null,null,2,"div",[["class","c-content position-relative"]],null,null,null,null,null)),(n()(),r.pb(6,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ob(7,212992,null,0,i.r,[i.b,r.O,r.j,[8,null],r.h],null,null)],function(n,t){n(t,4,0),n(t,7,0)},null)}function _(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,1,"app-contacts",[],null,null,null,y,v)),r.ob(1,114688,null,0,m,[g],null,null)],function(n,t){n(t,1,0)},null)}var w=r.lb("app-contacts",m,_,{},{},[]),x=e("gIcY"),E=function(){function n(n){this.contactsService=n,this.searchString=""}return n.prototype.searchFilter=function(n){var t=this;return this.searchString?n.filter(function(n){return n.name.toLowerCase().indexOf(t.searchString.toLocaleLowerCase())>-1}):n},n.prototype.onSearchChange=function(){this.contacts&&(this.filteredContacts=this.searchFilter(this.contacts))},n.prototype.ngOnInit=function(){var n=this;this.contactsService.clearDetails(),this.contactsSubscription=this.contactsService.contacts$.subscribe(function(t){n.contacts=n.filteredContacts=t})},n.prototype.ngOnDestroy=function(){this.contactsSubscription.unsubscribe()},n}(),S=r.nb({encapsulation:0,styles:[[".c-wrapper[_ngcontent-%COMP%]{min-height:calc(100% - 46px);margin:46px auto 0;position:relative}.c-new-contact-button[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px}.content[_ngcontent-%COMP%]{height:1500px;background-color:pink}.c-contact-card[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.c-search-input[_ngcontent-%COMP%]{position:fixed;top:56px;left:0;right:0;z-index:100}.c-search-input-content[_ngcontent-%COMP%]{margin:0 auto;max-width:600px}"]],data:{}});function C(n){return r.Fb(0,[(n()(),r.pb(0,0,[["emptyHeader",1]],null,1,"h4",[["class","text-center mt-2"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Contact list is empty now"]))],null,null)}function O(n){return r.Fb(0,[(n()(),r.pb(0,0,[["emptyHeader",1]],null,1,"h4",[["class","text-center mt-2"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Contacts not found"]))],null,null)}function R(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,12,"div",[["class","card mb-3 mx-auto bg-light"],["style","max-width: 600px;"]],null,null,null,null,null)),(n()(),r.pb(1,0,null,null,11,"a",[["class","c-contact-card"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==r.xb(n,2).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),r.ob(2,671744,null,0,i.p,[i.o,i.a,a.h],{routerLink:[0,"routerLink"]},null),r.yb(3,2),(n()(),r.pb(4,0,null,null,8,"div",[["class","row no-gutters"]],null,null,null,null,null)),(n()(),r.pb(5,0,null,null,1,"div",[["class","col-4"]],null,null,null,null,null)),(n()(),r.pb(6,0,null,null,0,"img",[["alt",""],["class","card-img"],["style","max-height: 150px; object-fit: contain"]],[[8,"src",4]],null,null,null,null)),(n()(),r.pb(7,0,null,null,5,"div",[["class","col-8"]],null,null,null,null,null)),(n()(),r.pb(8,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),r.pb(9,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(n()(),r.Db(10,null,["",""])),(n()(),r.pb(11,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(n()(),r.Db(12,null,["",""]))],function(n,t){var e=n(t,3,0,"/contacts",t.context.$implicit._id);n(t,2,0,e)},function(n,t){n(t,1,0,r.xb(t,2).target,r.xb(t,2).href),n(t,6,0,t.context.$implicit.avatar),n(t,10,0,t.context.$implicit.name),n(t,12,0,t.context.$implicit.phone)})}function k(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,7,"div",[["class","c-search-input px-3"]],null,null,null,null,null)),(n()(),r.pb(1,0,null,null,6,"div",[["class","c-search-input-content form-group text-center"]],null,null,null,null,null)),(n()(),r.pb(2,0,null,null,5,"input",[["class","form-control mt-2"],["name","searchString"],["placeholder","Search"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,o=n.component;return"input"===t&&(l=!1!==r.xb(n,3)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==r.xb(n,3).onTouched()&&l),"compositionstart"===t&&(l=!1!==r.xb(n,3)._compositionStart()&&l),"compositionend"===t&&(l=!1!==r.xb(n,3)._compositionEnd(e.target.value)&&l),"ngModelChange"===t&&(l=!1!==(o.searchString=e)&&l),"input"===t&&(l=!1!==o.onSearchChange()&&l),l},null,null)),r.ob(3,16384,null,0,x.c,[r.D,r.k,[2,x.a]],null,null),r.Bb(1024,null,x.h,function(n){return[n]},[x.c]),r.ob(5,671744,null,0,x.l,[[8,null],[8,null],[8,null],[6,x.h]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,x.i,null,[x.l]),r.ob(7,16384,null,0,x.j,[[4,x.i]],null,null),(n()(),r.pb(8,0,null,null,10,"div",[["class","c-wrapper p-3"]],null,null,null,null,null)),(n()(),r.eb(16777216,null,null,1,null,C)),r.ob(10,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.eb(16777216,null,null,1,null,O)),r.ob(12,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.eb(16777216,null,null,1,null,R)),r.ob(14,278528,null,0,a.j,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(n()(),r.pb(15,0,null,null,3,"a",[["routerLink","/contacts/new"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==r.xb(n,16).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),r.ob(16,671744,null,0,i.p,[i.o,i.a,a.h],{routerLink:[0,"routerLink"]},null),(n()(),r.pb(17,0,null,null,1,"button",[["class","c-new-contact-button btn d-flex align-items-center justify-content-center p-2 rounded-circle bg-primary text-danger"]],null,null,null,null,null)),(n()(),r.pb(18,0,null,null,0,"img",[["alt",""],["class","text-danger"],["height","30"],["src","../../../../assets/icons/plus-solid.svg"],["width","30"]],null,null,null,null,null))],function(n,t){var e=t.component;n(t,5,0,"searchString",!e.contacts||!e.contacts.length,e.searchString),n(t,10,0,!e.contacts||0===e.contacts.length),n(t,12,0,0!==e.searchString.length&&0===e.filteredContacts.length),n(t,14,0,e.filteredContacts),n(t,16,0,"/contacts/new")},function(n,t){n(t,2,0,r.xb(t,7).ngClassUntouched,r.xb(t,7).ngClassTouched,r.xb(t,7).ngClassPristine,r.xb(t,7).ngClassDirty,r.xb(t,7).ngClassValid,r.xb(t,7).ngClassInvalid,r.xb(t,7).ngClassPending),n(t,15,0,r.xb(t,16).target,r.xb(t,16).href)})}function A(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,1,"app-contact-list",[],null,null,null,k,S)),r.ob(1,245760,null,0,E,[g],null,null)],function(n,t){n(t,1,0)},null)}var T=r.lb("app-contact-list",E,A,{},{},[]),I=function(){function n(n,t){this.contactsService=n,this.fireStorage=t,this.fileRef=null}return n.prototype.createContact=function(n){this.contactsService.loading$.next(!0),n.avatar?this.uploadAvatarToFirebase({image:n.avatar,contact:n}):this.uploadToServer(n)},n.prototype.uploadAvatarToFirebase=function(n){var t=this;this.fileRef=this.fireStorage.ref("/avatars/"+n.contact.name+"_"+n.contact.phone),this.fileRef.put(n.image).then(function(n){return n.ref.getDownloadURL()}).then(function(e){t.uploadToServer(n.contact,e)})},n.prototype.uploadToServer=function(n,t){var e=this.formatData(n,t);this.contactsService.create(e)},n.prototype.formatData=function(n,t){var e=Object.assign({},n);return e.email||delete e.email,e.company||delete e.company,e.avatar||delete e.avatar,t&&(e.avatar=t),e},n}(),N=e("mrSG"),D=e("6blF"),P=e("67Y/");function U(n){var t=function(n){return new D.a(function(t){return n.on("state_changed",function(n){return t.next(n)},function(n){return t.error(n)},function(){return t.complete()}),function(){return n.cancel()}})}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:function(){return t},percentageChanges:function(){return t.pipe(Object(P.a)(function(n){return n.bytesTransferred/n.totalBytes*100}))}}}var L=e("0/uQ");function F(n,t){return{getDownloadURL:function(){return t.keepUnstableUntilFirst(t.runOutsideAngular(Object(L.a)(t.zone.runOutsideAngular(function(){return n.getDownloadURL()}))))},getMetadata:function(){return t.keepUnstableUntilFirst(t.runOutsideAngular(Object(L.a)(t.zone.runOutsideAngular(function(){return n.getMetadata()}))))},delete:function(){return Object(L.a)(n.delete())},child:function(e){return F(n.child(e),t)},updateMetatdata:function(t){return Object(L.a)(n.updateMetadata(t))},updateMetadata:function(t){return Object(L.a)(n.updateMetadata(t))},put:function(t,e){return U(n.put(t,e))},putString:function(t,e,r){return U(n.putString(t,e,r))}}}var j=function(n){function t(t,e){var r=n.call(this,t,e)||this;return r.scheduler=t,r.work=e,r}return N.c(t,n),t.prototype.schedule=function(t,e){return void 0===e&&(e=0),e>0?n.prototype.schedule.call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,e){return e>0||this.closed?n.prototype.execute.call(this,t,e):this._execute(t,e)},t.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?n.prototype.requestAsyncId.call(this,t,e,r):t.flush(this)},t}(function(n){function t(t,e){var r=n.call(this,t,e)||this;return r.scheduler=t,r.work=e,r.pending=!1,r}return N.c(t,n),t.prototype.schedule=function(n,t){if(void 0===t&&(t=0),this.closed)return this;this.state=n;var e=this.id,r=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(r,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(n,t,e){return void 0===e&&(e=0),setInterval(n.flush.bind(n,this),e)},t.prototype.recycleAsyncId=function(n,t,e){if(void 0===e&&(e=0),null!==e&&this.delay===e&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(n,t);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,t){var e=!1,r=void 0;try{this.work(n)}catch(l){e=!0,r=!!l&&l||new Error(l)}if(e)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var n=this.id,t=this.scheduler,e=t.actions,r=e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&e.splice(r,1),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null},t}(function(n){function t(t,e){return n.call(this)||this}return N.c(t,n),t.prototype.schedule=function(n,t){return void 0===t&&(t=0),this},t}(e("pugT").a))),M=function(){function n(t,e){void 0===e&&(e=n.now),this.SchedulerAction=t,this.now=e}return n.prototype.schedule=function(n,t,e){return void 0===t&&(t=0),new this.SchedulerAction(this,n).schedule(e,t)},n.now=function(){return Date.now()},n}(),B=new(function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return N.c(t,n),t}(function(n){function t(e,r){void 0===r&&(r=M.now);var l=n.call(this,e,function(){return t.delegate&&t.delegate!==l?t.delegate.now():r()})||this;return l.actions=[],l.active=!1,l.scheduled=void 0,l}return N.c(t,n),t.prototype.schedule=function(e,r,l){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(e,r,l):n.prototype.schedule.call(this,e,r,l)},t.prototype.flush=function(n){var t=this.actions;if(this.active)t.push(n);else{var e;this.active=!0;do{if(e=n.execute(n.state,n.delay))break}while(n=t.shift());if(this.active=!1,e){for(;n=t.shift();)n.unsubscribe();throw e}}},t}(M)))(j),V=function(){function n(n,t){this.zone=n,this.platformId=t}return n.prototype.schedule=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return this.zone.runGuarded(function(){return B.schedule.apply(B,n)})},n.prototype.keepUnstableUntilFirst=function(n){return Object(a.q)(this.platformId)?new D.a(function(t){var e=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",e,{},e,e);n.subscribe(function(n){"scheduled"===r.state&&r.invoke(),t.next(n)},function(n){"scheduled"===r.state&&r.invoke(),t.error(n)},function(){"scheduled"===r.state&&r.invoke(),t.complete()})}):n},n.prototype.runOutsideAngular=function(n){var t=this;return new D.a(function(e){return t.zone.runOutsideAngular(function(){return n.subscribe(function(n){return t.zone.run(function(){return e.next(n)})},function(n){return t.zone.run(function(){return e.error(n)})},function(){return t.zone.run(function(){return e.complete()})})})})},n}(),q=e("Wcq6"),W=e.n(q),z=new r.p("angularfire2.app.options"),G=new r.p("angularfire2.app.nameOrConfig"),$=function(){return function(){}}();function H(n,t){var e="object"==typeof t&&t||{};return e.name=e.name||"string"==typeof t&&t||"[DEFAULT]",W.a.apps.filter(function(n){return n&&n.name===e.name})[0]||W.a.initializeApp(n,e)}var K=function(){function n(){}var t;return t=n,n.initializeApp=function(n,e){return{ngModule:t,providers:[{provide:z,useValue:n},{provide:G,useValue:e}]}},n}(),X=new r.p("angularfire2.storageBucket"),Z=function(){function n(n,t,e,r,l){this.scheduler=new V(l,r),this.storage=l.runOutsideAngular(function(){return H(n,t).storage(e||void 0)})}return n.prototype.ref=function(n){return F(this.storage.ref(n),this.scheduler)},n.prototype.upload=function(n,t,e){return F(this.storage.ref(n),this.scheduler).put(t,e)},n}(),J=function(){function n(n,t,e){this.fb=n,this.contactsService=t,this.contactCreateService=e,this.avatarImage=null,this.contactForm=this.fb.group({avatar:[null],name:["",x.n.required],phone:["+380",[x.n.required,x.n.pattern(/^[+]{1}[0-9]{12}$/)]],email:[null,this.customEmailValidator],company:[null]})}return n.prototype.ngOnInit=function(){var n=this;this.errorsSub$=this.contactsService.loading$.subscribe(function(t){return n.loading=t}),this.errorsSub$=this.contactsService.createErrors$.pipe(Object(s.a)(function(n){return!!n})).subscribe(function(t){n.serverErrorHandler(t)})},n.prototype.ngOnDestroy=function(){this.errorsSub$.unsubscribe(),this.errorsSub$.unsubscribe()},n.prototype.customEmailValidator=function(n){return n.value?/\S+@\S+\.\S+/.test(n.value)?null:{email:!0}:null},n.prototype.onSubmit=function(){this.contactCreateService.createContact(this.contactForm.value)},n.prototype.serverErrorHandler=function(n){var t=this;n.forEach(function(n){t.contactForm.controls[n.param].setErrors({serverValidation:{value:!0,message:n.msg}})})},n.prototype.onFileChange=function(n){var t=this,e=new FileReader;if(n.target.files&&n.target.files.length){var r=N.f(n.target.files,1)[0];e.readAsDataURL(r),e.onload=function(){t.avatarImage=e.result,t.contactForm.patchValue({avatar:r})}}},n.prototype.isInputValid=function(n){return this.contactForm.controls[n].touched&&this.contactForm.controls[n].invalid},n.prototype.getValidationErrorMessage=function(n){switch(n){case"name":if(this.contactForm.controls[n].errors.required)return"Name is required";if(this.contactForm.controls[n].errors.serverValidation)return this.contactForm.controls[n].errors.serverValidation.message;break;case"email":if(this.contactForm.controls[n].errors.required)return"Email is required";if(this.contactForm.controls[n].errors.email)return"Email should be a valid email address";if(this.contactForm.controls[n].errors.serverValidation)return this.contactForm.controls[n].errors.serverValidation.message;break;case"phone":if(this.contactForm.controls[n].errors.required)return"Phone is required";if(this.contactForm.controls[n].errors.pattern)return"Phone should be a valid phone number";if(this.contactForm.controls[n].errors.serverValidation)return this.contactForm.controls[n].errors.serverValidation.message}},n}(),Y=r.nb({encapsulation:0,styles:[[".c-avatarImage[_ngcontent-%COMP%]{-o-object-fit:contain;object-fit:contain;border-radius:50%}.c-form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ff000026}"]],data:{}});function Q(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(n()(),r.Db(1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.component.getValidationErrorMessage("name"))})}function nn(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(n()(),r.Db(1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.component.getValidationErrorMessage("phone"))})}function tn(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(n()(),r.Db(1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.component.getValidationErrorMessage("email"))})}function en(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(n()(),r.Db(1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.component.getValidationErrorMessage("company"))})}function rn(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,3,"div",[["class","d-flex align-items-center justify-content-center"]],null,null,null,null,null)),(n()(),r.pb(1,0,null,null,2,"div",[["class","spinner-border text-primary mx-auto"],["role","status"]],null,null,null,null,null)),(n()(),r.pb(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Loading..."]))],null,null)}function ln(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-primary px-5 d-block mx-auto"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),r.Db(-1,null,[" Create "]))],null,function(n,t){n(t,0,0,!t.component.contactForm.valid)})}function on(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,63,"div",[["class","p-2"]],null,null,null,null,null)),(n()(),r.pb(1,0,null,null,1,"div",[["class","c-avatarContainer"]],null,null,null,null,null)),(n()(),r.pb(2,0,null,null,0,"img",[["alt",""],["class","c-avatarImage d-block mx-auto"],["height","200"],["width","200"]],[[8,"src",4]],null,null,null,null)),(n()(),r.pb(3,0,null,null,60,"form",[["class","c-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,e){var l=!0,o=n.component;return"submit"===t&&(l=!1!==r.xb(n,5).onSubmit(e)&&l),"reset"===t&&(l=!1!==r.xb(n,5).onReset()&&l),"ngSubmit"===t&&(l=!1!==o.onSubmit()&&l),l},null,null)),r.ob(4,16384,null,0,x.r,[],null,null),r.ob(5,540672,null,0,x.f,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),r.Bb(2048,null,x.b,null,[x.f]),r.ob(7,16384,null,0,x.k,[[4,x.b]],null,null),(n()(),r.pb(8,0,null,null,3,"div",[["class","form-group text-center pt-3 mb-0"]],null,null,null,null,null)),(n()(),r.pb(9,0,null,null,2,"label",[["class","c-upload-button btn btn-secondary"]],null,null,null,null,null)),(n()(),r.Db(10,null,[""," "])),(n()(),r.pb(11,0,null,null,0,"input",[["class","form-control mt-2"],["hidden",""],["type","file"]],[[8,"readOnly",0]],[[null,"change"]],function(n,t,e){var r=!0;return"change"===t&&(r=!1!==n.component.onFileChange(e)&&r),r},null,null)),(n()(),r.pb(12,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),r.pb(13,0,null,null,11,"label",[["class","d-block"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Name"])),(n()(),r.pb(15,0,null,null,1,"sup",[["class","text-danger p"]],null,null,null,null,null)),(n()(),r.Db(-1,null,[" *"])),(n()(),r.pb(17,0,null,null,5,"input",[["class","form-control mt-2"],["formControlName","name"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0;return"input"===t&&(l=!1!==r.xb(n,18)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==r.xb(n,18).onTouched()&&l),"compositionstart"===t&&(l=!1!==r.xb(n,18)._compositionStart()&&l),"compositionend"===t&&(l=!1!==r.xb(n,18)._compositionEnd(e.target.value)&&l),l},null,null)),r.ob(18,16384,null,0,x.c,[r.D,r.k,[2,x.a]],null,null),r.Bb(1024,null,x.h,function(n){return[n]},[x.c]),r.ob(20,671744,null,0,x.e,[[3,x.b],[8,null],[8,null],[6,x.h],[2,x.q]],{name:[0,"name"]},null),r.Bb(2048,null,x.i,null,[x.e]),r.ob(22,16384,null,0,x.j,[[4,x.i]],null,null),(n()(),r.eb(16777216,null,null,1,null,Q)),r.ob(24,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.pb(25,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),r.pb(26,0,null,null,11,"label",[["class","d-block"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Phone"])),(n()(),r.pb(28,0,null,null,1,"sup",[["class","text-danger p"]],null,null,null,null,null)),(n()(),r.Db(-1,null,[" *"])),(n()(),r.pb(30,0,null,null,5,"input",[["class","form-control mt-2"],["formControlName","phone"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0;return"input"===t&&(l=!1!==r.xb(n,31)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==r.xb(n,31).onTouched()&&l),"compositionstart"===t&&(l=!1!==r.xb(n,31)._compositionStart()&&l),"compositionend"===t&&(l=!1!==r.xb(n,31)._compositionEnd(e.target.value)&&l),l},null,null)),r.ob(31,16384,null,0,x.c,[r.D,r.k,[2,x.a]],null,null),r.Bb(1024,null,x.h,function(n){return[n]},[x.c]),r.ob(33,671744,null,0,x.e,[[3,x.b],[8,null],[8,null],[6,x.h],[2,x.q]],{name:[0,"name"]},null),r.Bb(2048,null,x.i,null,[x.e]),r.ob(35,16384,null,0,x.j,[[4,x.i]],null,null),(n()(),r.eb(16777216,null,null,1,null,nn)),r.ob(37,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.pb(38,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),r.pb(39,0,null,null,9,"label",[["class","d-block"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Email "])),(n()(),r.pb(41,0,null,null,5,"input",[["class","form-control mt-2"],["formControlName","email"],["type","email"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0;return"input"===t&&(l=!1!==r.xb(n,42)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==r.xb(n,42).onTouched()&&l),"compositionstart"===t&&(l=!1!==r.xb(n,42)._compositionStart()&&l),"compositionend"===t&&(l=!1!==r.xb(n,42)._compositionEnd(e.target.value)&&l),l},null,null)),r.ob(42,16384,null,0,x.c,[r.D,r.k,[2,x.a]],null,null),r.Bb(1024,null,x.h,function(n){return[n]},[x.c]),r.ob(44,671744,null,0,x.e,[[3,x.b],[8,null],[8,null],[6,x.h],[2,x.q]],{name:[0,"name"]},null),r.Bb(2048,null,x.i,null,[x.e]),r.ob(46,16384,null,0,x.j,[[4,x.i]],null,null),(n()(),r.eb(16777216,null,null,1,null,tn)),r.ob(48,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.pb(49,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),r.pb(50,0,null,null,9,"label",[["class","d-block"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Company "])),(n()(),r.pb(52,0,null,null,5,"input",[["class","form-control mt-2"],["formControlName","company"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0;return"input"===t&&(l=!1!==r.xb(n,53)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==r.xb(n,53).onTouched()&&l),"compositionstart"===t&&(l=!1!==r.xb(n,53)._compositionStart()&&l),"compositionend"===t&&(l=!1!==r.xb(n,53)._compositionEnd(e.target.value)&&l),l},null,null)),r.ob(53,16384,null,0,x.c,[r.D,r.k,[2,x.a]],null,null),r.Bb(1024,null,x.h,function(n){return[n]},[x.c]),r.ob(55,671744,null,0,x.e,[[3,x.b],[8,null],[8,null],[6,x.h],[2,x.q]],{name:[0,"name"]},null),r.Bb(2048,null,x.i,null,[x.e]),r.ob(57,16384,null,0,x.j,[[4,x.i]],null,null),(n()(),r.eb(16777216,null,null,1,null,en)),r.ob(59,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.eb(16777216,null,null,1,null,rn)),r.ob(61,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.eb(16777216,null,null,1,null,ln)),r.ob(63,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,5,0,e.contactForm),n(t,20,0,"name"),n(t,24,0,e.isInputValid("name")),n(t,33,0,"phone"),n(t,37,0,e.isInputValid("phone")),n(t,44,0,"email"),n(t,48,0,e.isInputValid("email")),n(t,55,0,"company"),n(t,59,0,e.isInputValid("company")),n(t,61,0,e.loading),n(t,63,0,!e.loading)},function(n,t){var e=t.component;n(t,2,0,e.avatarImage||"../../../../assets/images/avatar.png"),n(t,3,0,r.xb(t,7).ngClassUntouched,r.xb(t,7).ngClassTouched,r.xb(t,7).ngClassPristine,r.xb(t,7).ngClassDirty,r.xb(t,7).ngClassValid,r.xb(t,7).ngClassInvalid,r.xb(t,7).ngClassPending),n(t,10,0,e.avatarImage?"Update image":"Upload image"),n(t,11,0,e.loading),n(t,17,0,e.loading,r.xb(t,22).ngClassUntouched,r.xb(t,22).ngClassTouched,r.xb(t,22).ngClassPristine,r.xb(t,22).ngClassDirty,r.xb(t,22).ngClassValid,r.xb(t,22).ngClassInvalid,r.xb(t,22).ngClassPending),n(t,30,0,e.loading,r.xb(t,35).ngClassUntouched,r.xb(t,35).ngClassTouched,r.xb(t,35).ngClassPristine,r.xb(t,35).ngClassDirty,r.xb(t,35).ngClassValid,r.xb(t,35).ngClassInvalid,r.xb(t,35).ngClassPending),n(t,41,0,e.loading,r.xb(t,46).ngClassUntouched,r.xb(t,46).ngClassTouched,r.xb(t,46).ngClassPristine,r.xb(t,46).ngClassDirty,r.xb(t,46).ngClassValid,r.xb(t,46).ngClassInvalid,r.xb(t,46).ngClassPending),n(t,52,0,e.loading,r.xb(t,57).ngClassUntouched,r.xb(t,57).ngClassTouched,r.xb(t,57).ngClassPristine,r.xb(t,57).ngClassDirty,r.xb(t,57).ngClassValid,r.xb(t,57).ngClassInvalid,r.xb(t,57).ngClassPending)})}function un(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,2,"app-contact-create",[],null,null,null,on,Y)),r.Bb(512,null,I,I,[g,Z]),r.ob(2,245760,null,0,J,[x.d,g,I],null,null)],function(n,t){n(t,2,0)},null)}var an=r.lb("app-contact-create",J,un,{},{},[]),sn=function(){function n(n,t){this.contactsServise=n,this.route=t,this.fetching=!0}return n.prototype.ngOnInit=function(){var n=this;this.contactsServise.selectedContact$.subscribe(function(t){n.contact=t}),this.contactsServise.loading$.subscribe(function(t){n.fetching=t}),this.route.params.subscribe(function(t){console.log(t),n.contactsServise.getDetails(t.id)})},n.prototype.onCall=function(){console.log(this.contact._id)},n}(),cn=r.nb({encapsulation:0,styles:[[".c-edit-button[_ngcontent-%COMP%]{position:absolute;top:15px;right:20px}"]],data:{}});function pn(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,4,"div",[["class","d-flex align-items-center justify-content-between mt-2"]],null,null,null,null,null)),(n()(),r.pb(1,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),r.Db(-1,null,["Email"])),(n()(),r.pb(3,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),r.Db(4,null,["",""]))],null,function(n,t){n(t,4,0,t.component.contact.email)})}function fn(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,4,"div",[["class","d-flex align-items-center justify-content-between mt-2"]],null,null,null,null,null)),(n()(),r.pb(1,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),r.Db(-1,null,["Company"])),(n()(),r.pb(3,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),r.Db(4,null,["",""]))],null,function(n,t){n(t,4,0,t.component.contact.company)})}function hn(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,22,"div",[["class","c-contact-details row m-0 p-3 h-100"]],null,null,null,null,null)),(n()(),r.pb(1,0,null,null,21,"div",[["class","col-10 col-sm-8 col-md-6 offset-1 offset-sm-2 offset-md-3 p-0 card"]],null,null,null,null,null)),(n()(),r.pb(2,0,null,null,0,"img",[["alt","..."],["class","card-img-top"]],[[8,"src",4]],null,null,null,null)),(n()(),r.pb(3,0,null,null,19,"div",[["class","card-body d-flex flex-column position-relative"]],null,null,null,null,null)),(n()(),r.pb(4,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==r.xb(n,5).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),r.ob(5,671744,null,0,i.p,[i.o,i.a,a.h],{routerLink:[0,"routerLink"]},null),r.yb(6,3),(n()(),r.pb(7,0,null,null,1,"button",[["class","c-edit-button btn d-flex align-items-center justify-content-center p-2 rounded-circle bg-light"]],null,null,null,null,null)),(n()(),r.pb(8,0,null,null,0,"img",[["alt",""],["height","20"],["src","../../../../assets/icons/edit-regular.svg"],["width","20"]],null,null,null,null,null)),(n()(),r.pb(9,0,null,null,1,"h5",[["class","card-title text-center mb-3"]],null,null,null,null,null)),(n()(),r.Db(10,null,["",""])),(n()(),r.pb(11,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(n()(),r.pb(12,0,null,null,4,"div",[["class","d-flex align-items-center justify-content-between mt-2"]],null,null,null,null,null)),(n()(),r.pb(13,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),r.Db(-1,null,["Phone"])),(n()(),r.pb(15,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),r.Db(16,null,["",""])),(n()(),r.eb(16777216,null,null,1,null,pn)),r.ob(18,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.eb(16777216,null,null,1,null,fn)),r.ob(20,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.pb(21,0,null,null,1,"button",[["class","btn btn-success mt-auto"]],null,[[null,"click"]],function(n,t,e){var r=!0;return"click"===t&&(r=!1!==n.component.onCall()&&r),r},null,null)),(n()(),r.Db(-1,null,["Call"]))],function(n,t){var e=t.component,r=n(t,6,0,"/contacts",e.contact._id,"edit");n(t,5,0,r),n(t,18,0,e.contact.email),n(t,20,0,e.contact.company)},function(n,t){var e=t.component;n(t,2,0,e.contact.avatar),n(t,4,0,r.xb(t,5).target,r.xb(t,5).href),n(t,10,0,e.contact.name),n(t,16,0,e.contact.phone)})}function dn(n){return r.Fb(0,[(n()(),r.eb(16777216,null,null,1,null,hn)),r.ob(1,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.contact)},null)}function bn(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,1,"app-contact-details",[],null,null,null,dn,cn)),r.ob(1,114688,null,0,sn,[g,i.a],null,null)],function(n,t){n(t,1,0)},null)}var gn=r.lb("app-contact-details",sn,bn,{},{},[]),mn=function(){function n(n,t){this.contactsService=n,this.fireStorage=t,this.fileRef=null}return n.prototype.updateContact=function(n){this.contactsService.loading$.next(!0),n.image?this.uploadAvatarToFirebase({image:n.image,contact:n.contact}):this.uploadToServer(n.contact)},n.prototype.uploadAvatarToFirebase=function(n){var t=this;this.fileRef=this.fireStorage.ref("/avatars/"+n.contact.name+"_"+n.contact.phone),this.fileRef.put(n.image).then(function(n){return n.ref.getDownloadURL()}).then(function(e){t.uploadToServer(n.contact,e)})},n.prototype.uploadToServer=function(n,t){var e=this.formatData(n,t);this.contactsService.put(e)},n.prototype.formatData=function(n,t){var e=Object.assign({},n);return e.email||delete e.email,e.company||delete e.company,t&&(e.avatar=t),e},n}(),vn=function(){function n(n,t,e){this.fb=n,this.contactsService=t,this.contactEditService=e,this.avatarImage=null,this.imageFile=null,this.contactForm=this.fb.group({avatar:[null],name:[null,x.n.required],phone:[null,[x.n.required,x.n.pattern(/^[+]{1}[0-9]{12}$/)]],email:[null,this.customEmailValidator],company:[null]})}return n.prototype.customEmailValidator=function(n){return n.value?/\S+@\S+\.\S+/.test(n.value)?null:{email:!0}:null},n.prototype.ngOnInit=function(){var n=this;this.loadingSub$=this.contactsService.loading$.subscribe(function(t){return n.loading=t}),this.contactSub$=this.contactsService.selectedContact$.pipe(Object(s.a)(function(n){return!!n})).subscribe(function(t){n.contact=t,n.formSeed()}),this.errorsSub$=this.contactsService.updateErrors$.pipe(Object(s.a)(function(n){return!!n})).subscribe(function(t){n.serverErrorHandler(t)})},n.prototype.ngOnDestroy=function(){this.contactSub$.unsubscribe(),this.errorsSub$.unsubscribe(),this.loadingSub$.unsubscribe()},n.prototype.formSeed=function(){this.contactForm.patchValue({avatar:this.contact.avatar,name:this.contact.name,phone:this.contact.phone,email:this.contact.email||null,company:this.contact.company||null}),this.avatarImage=this.contact.avatar},n.prototype.onSubmit=function(){this.contactEditService.updateContact(this.imageFile?{image:this.imageFile,contact:this.contactForm.value}:{contact:this.contactForm.value})},n.prototype.serverErrorHandler=function(n){var t=this;n.forEach(function(n){t.contactForm.controls[n.param].setErrors({serverValidation:{value:!0,message:n.msg}})})},n.prototype.onFileChange=function(n){var t=this,e=new FileReader;if(n.target.files&&n.target.files.length){var r=N.f(n.target.files,1)[0];e.readAsDataURL(r),e.onload=function(){t.avatarImage=e.result,t.imageFile=r}}},n.prototype.isInputValid=function(n){return this.contactForm.controls[n].touched&&this.contactForm.controls[n].invalid},n.prototype.getValidationErrorMessage=function(n){switch(n){case"name":if(this.contactForm.controls[n].errors.required)return"Name is required";if(this.contactForm.controls[n].errors.serverValidation)return this.contactForm.controls[n].errors.serverValidation.message;break;case"email":if(this.contactForm.controls[n].errors.required)return"Email is required";if(this.contactForm.controls[n].errors.email)return"Email should be a valid email address";if(this.contactForm.controls[n].errors.serverValidation)return this.contactForm.controls[n].errors.serverValidation.message;break;case"phone":if(this.contactForm.controls[n].errors.required)return"Phone is required";if(this.contactForm.controls[n].errors.pattern)return"Phone should be a valid phone number";if(this.contactForm.controls[n].errors.serverValidation)return this.contactForm.controls[n].errors.serverValidation.message}},n}(),yn=r.nb({encapsulation:0,styles:[[".c-avatarImage[_ngcontent-%COMP%]{-o-object-fit:contain;object-fit:contain;border-radius:50%}.c-form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #ff000026}.c-edit-button[_ngcontent-%COMP%]{position:absolute;top:15px;left:20px}"]],data:{}});function _n(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(n()(),r.Db(1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.component.getValidationErrorMessage("name"))})}function wn(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(n()(),r.Db(1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.component.getValidationErrorMessage("phone"))})}function xn(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(n()(),r.Db(1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.component.getValidationErrorMessage("email"))})}function En(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(n()(),r.Db(1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.component.getValidationErrorMessage("company"))})}function Sn(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,3,"div",[["class","d-flex align-items-center justify-content-center"]],null,null,null,null,null)),(n()(),r.pb(1,0,null,null,2,"div",[["class","spinner-border text-primary mx-auto"],["role","status"]],null,null,null,null,null)),(n()(),r.pb(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Loading..."]))],null,null)}function Cn(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,1,"button",[["class","btn btn-primary px-5 d-block mx-auto"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),r.Db(-1,null,[" Update "]))],null,function(n,t){n(t,0,0,!t.component.contactForm.valid)})}function On(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,68,"div",[["class","p-2"]],null,null,null,null,null)),(n()(),r.pb(1,0,null,null,6,"div",[["class","c-avatarContainer position-relative"]],null,null,null,null,null)),(n()(),r.pb(2,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==r.xb(n,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),r.ob(3,671744,null,0,i.p,[i.o,i.a,a.h],{routerLink:[0,"routerLink"]},null),r.yb(4,2),(n()(),r.pb(5,0,null,null,1,"button",[["class","c-edit-button btn d-flex align-items-center justify-content-center p-2 rounded-circle bg-light"]],null,null,null,null,null)),(n()(),r.pb(6,0,null,null,0,"img",[["alt",""],["height","20"],["src","../../../../assets/icons/arrow-left-solid.svg"],["width","20"]],null,null,null,null,null)),(n()(),r.pb(7,0,null,null,0,"img",[["alt",""],["class","c-avatarImage d-block mx-auto"],["height","200"],["width","200"]],[[8,"src",4]],null,null,null,null)),(n()(),r.pb(8,0,null,null,60,"form",[["class","c-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,e){var l=!0,o=n.component;return"submit"===t&&(l=!1!==r.xb(n,10).onSubmit(e)&&l),"reset"===t&&(l=!1!==r.xb(n,10).onReset()&&l),"ngSubmit"===t&&(l=!1!==o.onSubmit()&&l),l},null,null)),r.ob(9,16384,null,0,x.r,[],null,null),r.ob(10,540672,null,0,x.f,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),r.Bb(2048,null,x.b,null,[x.f]),r.ob(12,16384,null,0,x.k,[[4,x.b]],null,null),(n()(),r.pb(13,0,null,null,3,"div",[["class","form-group text-center pt-3 mb-0"]],null,null,null,null,null)),(n()(),r.pb(14,0,null,null,2,"label",[["class","c-upload-button btn btn-secondary"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Update image "])),(n()(),r.pb(16,0,null,null,0,"input",[["class","form-control mt-2"],["hidden",""],["type","file"]],[[8,"readOnly",0]],[[null,"change"]],function(n,t,e){var r=!0;return"change"===t&&(r=!1!==n.component.onFileChange(e)&&r),r},null,null)),(n()(),r.pb(17,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),r.pb(18,0,null,null,11,"label",[["class","d-block"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Name"])),(n()(),r.pb(20,0,null,null,1,"sup",[["class","text-danger p"]],null,null,null,null,null)),(n()(),r.Db(-1,null,[" *"])),(n()(),r.pb(22,0,null,null,5,"input",[["class","form-control mt-2"],["formControlName","name"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0;return"input"===t&&(l=!1!==r.xb(n,23)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==r.xb(n,23).onTouched()&&l),"compositionstart"===t&&(l=!1!==r.xb(n,23)._compositionStart()&&l),"compositionend"===t&&(l=!1!==r.xb(n,23)._compositionEnd(e.target.value)&&l),l},null,null)),r.ob(23,16384,null,0,x.c,[r.D,r.k,[2,x.a]],null,null),r.Bb(1024,null,x.h,function(n){return[n]},[x.c]),r.ob(25,671744,null,0,x.e,[[3,x.b],[8,null],[8,null],[6,x.h],[2,x.q]],{name:[0,"name"]},null),r.Bb(2048,null,x.i,null,[x.e]),r.ob(27,16384,null,0,x.j,[[4,x.i]],null,null),(n()(),r.eb(16777216,null,null,1,null,_n)),r.ob(29,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.pb(30,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),r.pb(31,0,null,null,11,"label",[["class","d-block"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Phone"])),(n()(),r.pb(33,0,null,null,1,"sup",[["class","text-danger p"]],null,null,null,null,null)),(n()(),r.Db(-1,null,[" *"])),(n()(),r.pb(35,0,null,null,5,"input",[["class","form-control mt-2"],["formControlName","phone"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0;return"input"===t&&(l=!1!==r.xb(n,36)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==r.xb(n,36).onTouched()&&l),"compositionstart"===t&&(l=!1!==r.xb(n,36)._compositionStart()&&l),"compositionend"===t&&(l=!1!==r.xb(n,36)._compositionEnd(e.target.value)&&l),l},null,null)),r.ob(36,16384,null,0,x.c,[r.D,r.k,[2,x.a]],null,null),r.Bb(1024,null,x.h,function(n){return[n]},[x.c]),r.ob(38,671744,null,0,x.e,[[3,x.b],[8,null],[8,null],[6,x.h],[2,x.q]],{name:[0,"name"]},null),r.Bb(2048,null,x.i,null,[x.e]),r.ob(40,16384,null,0,x.j,[[4,x.i]],null,null),(n()(),r.eb(16777216,null,null,1,null,wn)),r.ob(42,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.pb(43,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),r.pb(44,0,null,null,9,"label",[["class","d-block"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Email "])),(n()(),r.pb(46,0,null,null,5,"input",[["class","form-control mt-2"],["formControlName","email"],["type","email"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0;return"input"===t&&(l=!1!==r.xb(n,47)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==r.xb(n,47).onTouched()&&l),"compositionstart"===t&&(l=!1!==r.xb(n,47)._compositionStart()&&l),"compositionend"===t&&(l=!1!==r.xb(n,47)._compositionEnd(e.target.value)&&l),l},null,null)),r.ob(47,16384,null,0,x.c,[r.D,r.k,[2,x.a]],null,null),r.Bb(1024,null,x.h,function(n){return[n]},[x.c]),r.ob(49,671744,null,0,x.e,[[3,x.b],[8,null],[8,null],[6,x.h],[2,x.q]],{name:[0,"name"]},null),r.Bb(2048,null,x.i,null,[x.e]),r.ob(51,16384,null,0,x.j,[[4,x.i]],null,null),(n()(),r.eb(16777216,null,null,1,null,xn)),r.ob(53,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.pb(54,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),r.pb(55,0,null,null,9,"label",[["class","d-block"]],null,null,null,null,null)),(n()(),r.Db(-1,null,["Company "])),(n()(),r.pb(57,0,null,null,5,"input",[["class","form-control mt-2"],["formControlName","company"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0;return"input"===t&&(l=!1!==r.xb(n,58)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==r.xb(n,58).onTouched()&&l),"compositionstart"===t&&(l=!1!==r.xb(n,58)._compositionStart()&&l),"compositionend"===t&&(l=!1!==r.xb(n,58)._compositionEnd(e.target.value)&&l),l},null,null)),r.ob(58,16384,null,0,x.c,[r.D,r.k,[2,x.a]],null,null),r.Bb(1024,null,x.h,function(n){return[n]},[x.c]),r.ob(60,671744,null,0,x.e,[[3,x.b],[8,null],[8,null],[6,x.h],[2,x.q]],{name:[0,"name"]},null),r.Bb(2048,null,x.i,null,[x.e]),r.ob(62,16384,null,0,x.j,[[4,x.i]],null,null),(n()(),r.eb(16777216,null,null,1,null,En)),r.ob(64,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.eb(16777216,null,null,1,null,Sn)),r.ob(66,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(n()(),r.eb(16777216,null,null,1,null,Cn)),r.ob(68,16384,null,0,a.k,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component,r=n(t,4,0,"/contacts",e.contact._id);n(t,3,0,r),n(t,10,0,e.contactForm),n(t,25,0,"name"),n(t,29,0,e.isInputValid("name")),n(t,38,0,"phone"),n(t,42,0,e.isInputValid("phone")),n(t,49,0,"email"),n(t,53,0,e.isInputValid("email")),n(t,60,0,"company"),n(t,64,0,e.isInputValid("company")),n(t,66,0,e.loading),n(t,68,0,!e.loading)},function(n,t){var e=t.component;n(t,2,0,r.xb(t,3).target,r.xb(t,3).href),n(t,7,0,e.avatarImage),n(t,8,0,r.xb(t,12).ngClassUntouched,r.xb(t,12).ngClassTouched,r.xb(t,12).ngClassPristine,r.xb(t,12).ngClassDirty,r.xb(t,12).ngClassValid,r.xb(t,12).ngClassInvalid,r.xb(t,12).ngClassPending),n(t,16,0,e.loading),n(t,22,0,e.loading,r.xb(t,27).ngClassUntouched,r.xb(t,27).ngClassTouched,r.xb(t,27).ngClassPristine,r.xb(t,27).ngClassDirty,r.xb(t,27).ngClassValid,r.xb(t,27).ngClassInvalid,r.xb(t,27).ngClassPending),n(t,35,0,e.loading,r.xb(t,40).ngClassUntouched,r.xb(t,40).ngClassTouched,r.xb(t,40).ngClassPristine,r.xb(t,40).ngClassDirty,r.xb(t,40).ngClassValid,r.xb(t,40).ngClassInvalid,r.xb(t,40).ngClassPending),n(t,46,0,e.loading,r.xb(t,51).ngClassUntouched,r.xb(t,51).ngClassTouched,r.xb(t,51).ngClassPristine,r.xb(t,51).ngClassDirty,r.xb(t,51).ngClassValid,r.xb(t,51).ngClassInvalid,r.xb(t,51).ngClassPending),n(t,57,0,e.loading,r.xb(t,62).ngClassUntouched,r.xb(t,62).ngClassTouched,r.xb(t,62).ngClassPristine,r.xb(t,62).ngClassDirty,r.xb(t,62).ngClassValid,r.xb(t,62).ngClassInvalid,r.xb(t,62).ngClassPending)})}function Rn(n){return r.Fb(0,[(n()(),r.pb(0,0,null,null,2,"app-contact-edit",[],null,null,null,On,yn)),r.Bb(512,null,mn,mn,[g,Z]),r.ob(2,245760,null,0,vn,[x.d,g,mn],null,null)],function(n,t){n(t,2,0)},null)}var kn=r.lb("app-contact-edit",vn,Rn,{},{},[]),An=e("t/Na"),Tn=e("wj3C"),In=e.n(Tn),Nn="firebasestorage.googleapis.com",Dn="storageBucket",Pn=12e4,Un=6e4,Ln=-9007199254740991,Fn=function(){function n(n,t){this.code_=Mn(n),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return n.prototype.codeProp=function(){return this.code},n.prototype.codeEquals=function(n){return Mn(n)===this.codeProp()},n.prototype.serverResponseProp=function(){return this.serverResponse_},n.prototype.setServerResponseProp=function(n){this.serverResponse_=n},Object.defineProperty(n.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),n}(),jn={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function Mn(n){return"storage/"+n}function Bn(){return new Fn(jn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Vn(){return new Fn(jn.CANCELED,"User canceled the upload/download.")}function qn(){return new Fn(jn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wn(n,t,e){return new Fn(jn.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+n+": "+e)}function zn(){return new Fn(jn.APP_DELETED,"The Firebase app was deleted.")}function Gn(n,t){return new Fn(jn.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function $n(n){throw new Fn(jn.INTERNAL_ERROR,"Internal error: "+n)}var Hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function Kn(n){switch(n){case Hn.RAW:case Hn.BASE64:case Hn.BASE64URL:case Hn.DATA_URL:return;default:throw"Expected one of the event types: ["+Hn.RAW+", "+Hn.BASE64+", "+Hn.BASE64URL+", "+Hn.DATA_URL+"]."}}var Xn=function(){return function(n,t){this.data=n,this.contentType=t||null}}();function Zn(n,t){switch(n){case Hn.RAW:return new Xn(Jn(t));case Hn.BASE64:case Hn.BASE64URL:return new Xn(Yn(n,t));case Hn.DATA_URL:return new Xn(function(n){var t=new Qn(n);return t.base64?Yn(Hn.BASE64,t.rest):function(n){var t;try{t=decodeURIComponent(n)}catch(e){throw Gn(Hn.DATA_URL,"Malformed data URL.")}return Jn(t)}(t.rest)}(t),function(n){return new Qn(n).contentType}(t))}throw Bn()}function Jn(n){for(var t=[],e=0;e<n.length;e++){var r=n.charCodeAt(e);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(e<n.length-1&&56320==(64512&n.charCodeAt(e+1))){var l=r,o=n.charCodeAt(++e);t.push(240|(r=65536|(1023&l)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Yn(n,t){switch(n){case Hn.BASE64:var e=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(e||r)throw Gn(n,"Invalid character '"+(e?"-":"_")+"' found: is it base64url encoded?");break;case Hn.BASE64URL:var l=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(l||o)throw Gn(n,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var u;try{u=atob(t)}catch(s){throw Gn(n,"Invalid character found")}for(var i=new Uint8Array(u.length),a=0;a<u.length;a++)i[a]=u.charCodeAt(a);return i}var Qn=function(){return function(n){this.base64=!1,this.contentType=null;var t=n.match(/^data:([^,]+)?,/);if(null===t)throw Gn(Hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var e,r=t[1]||null;null!=r&&(this.base64=(e=r).length>=";base64".length&&";base64"===e.substring(e.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=n.substring(n.indexOf(",")+1)}}(),nt={STATE_CHANGED:"state_changed"},tt={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},et={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function rt(n){switch(n){case tt.RUNNING:case tt.PAUSING:case tt.CANCELING:return et.RUNNING;case tt.PAUSED:return et.PAUSED;case tt.SUCCESS:return et.SUCCESS;case tt.CANCELED:return et.CANCELED;case tt.ERROR:default:return et.ERROR}}function lt(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function ot(n,t){for(var e in n)lt(n,e)&&t(e,n[e])}function ut(n){if(null==n)return{};var t={};return ot(n,function(n,e){t[n]=e}),t}function it(n){return new Promise(n)}function at(n){return Promise.resolve(n)}function st(n){return null!=n}function ct(n){return void 0!==n}function pt(n){return"function"==typeof n}function ft(n){return"object"==typeof n}function ht(n){return ft(n)&&null!==n}function dt(n){return"string"==typeof n||n instanceof String}function bt(n){return gt(n)&&Number.isInteger(n)}function gt(n){return"number"==typeof n||n instanceof Number}function mt(n){return vt()&&n instanceof Blob}function vt(){return"undefined"!=typeof Blob}var yt=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}({}),_t=function(){function n(){var n=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=yt.NO_ERROR,this.sendPromise_=it(function(t,e){n.xhr_.addEventListener("abort",function(e){n.errorCode_=yt.ABORT,t(n)}),n.xhr_.addEventListener("error",function(e){n.errorCode_=yt.NETWORK_ERROR,t(n)}),n.xhr_.addEventListener("load",function(e){t(n)})})}return n.prototype.send=function(n,t,e,r){var l=this;if(this.sent_)throw $n("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(t,n,!0),st(r)&&ot(r,function(n,t){l.xhr_.setRequestHeader(n,t.toString())}),st(e)?this.xhr_.send(e):this.xhr_.send(),this.sendPromise_},n.prototype.getErrorCode=function(){if(!this.sent_)throw $n("cannot .getErrorCode() before sending");return this.errorCode_},n.prototype.getStatus=function(){if(!this.sent_)throw $n("cannot .getStatus() before sending");try{return this.xhr_.status}catch(n){return-1}},n.prototype.getResponseText=function(){if(!this.sent_)throw $n("cannot .getResponseText() before sending");return this.xhr_.responseText},n.prototype.abort=function(){this.xhr_.abort()},n.prototype.getResponseHeader=function(n){return this.xhr_.getResponseHeader(n)},n.prototype.addUploadProgressListener=function(n){st(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",n)},n.prototype.removeUploadProgressListener=function(n){st(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",n)},n}(),wt=function(){function n(){}return n.prototype.createXhrIo=function(){return new _t},n}();function xt(n){var t,e;try{t=JSON.parse(n)}catch(r){return null}return ft(e=t)&&!Array.isArray(e)?t:null}var Et=function(){function n(n,t){this.bucket=n,this.path_=t}return Object.defineProperty(n.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),n.prototype.fullServerUrl=function(){var n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)},n.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},n.makeFromBucketSpec=function(t){var e;try{e=n.makeFromUrl(t)}catch(r){return new n(t,"")}if(""===e.path)return e;throw new Fn(jn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")},n.makeFromUrl=function(t){for(var e=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),l=Nn.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(n){"/"===n.path.charAt(n.path.length-1)&&(n.path_=n.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+l+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(n){n.path_=decodeURIComponent(n.path)}}],u=0;u<o.length;u++){var i=o[u],a=i.regex.exec(t);if(a){var s=a[i.indices.path];s||(s=""),e=new n(a[i.indices.bucket],s),i.postModify(e);break}}if(null==e)throw function(n){return new Fn(jn.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return e},n}();function St(n){var t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Ct(n){return"https://"+Nn+"/v0"+n}function Ot(n){var t=encodeURIComponent,e="?";return ot(n,function(n,r){var l=t(n)+"="+t(r.toString());e=e+l+"&"}),e=e.slice(0,-1)}function Rt(n,t){return t}var kt=function(){return function(n,t,e,r){this.server=n,this.local=t||n,this.writable=!!e,this.xform=r||Rt}}(),At=null;function Tt(n,t,e){var r=xt(t);return null===r?null:function(n,t,e){for(var r={type:"file"},l=e.length,o=0;o<l;o++){var u=e[o];r[u.local]=u.xform(r,t[u.server])}return function(n,t){Object.defineProperty(n,"ref",{get:function(){var e=new Et(n.bucket,n.fullPath);return t.makeStorageReference(e)}})}(r,n),r}(n,r,e)}function It(n,t){for(var e={},r=t.length,l=0;l<r;l++){var o=t[l];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}function Nt(n){if(!n||!ft(n))throw"Expected Metadata object.";for(var t in n){var e=n[t];if("customMetadata"===t){if(!ft(e))throw"Expected object for 'customMetadata' mapping."}else if(ht(e))throw"Mapping for '"+t+"' cannot be an object."}}var Dt="maxResults",Pt=1e3,Ut="pageToken",Lt="prefixes",Ft="items";function jt(n){if(!n||!ft(n))throw"Expected ListOptions object.";for(var t in n)if(t===Dt){if(!bt(n[Dt])||n[Dt]<=0)throw"Expected maxResults to be a positive number.";if(n[Dt]>1e3)throw"Expected maxResults to be less than or equal to "+Pt+"."}else{if(t!==Ut)throw"Unknown option: "+t;if(n[Ut]&&!dt(n[Ut]))throw"Expected pageToken to be string."}}function Mt(n,t,e){for(var r=t.length,l=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}var u,i,a,s;if(!(r<=e.length&&e.length<=l))throw(u=r)===(i=l)?(a=u,s=1===u?"argument":"arguments"):(a="between "+u+" and "+i,s="arguments"),new Fn(jn.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+a+" "+s+", received "+e.length+".");for(o=0;o<e.length;o++)try{t[o].validator(e[o])}catch(c){throw c instanceof Error?Wn(o,n,c.message):Wn(o,n,c)}}var Bt=function(){return function(n,t){var e=this;this.validator=function(t){e.optional&&!ct(t)||n(t)},this.optional=!!t}}();function Vt(n,t){function e(n){if(!dt(n))throw"Expected string."}var r,l,o;return n?(l=e,o=n,r=function(n){l(n),o(n)}):r=e,new Bt(r,t)}function qt(n){return new Bt(Nt,n)}function Wt(){return new Bt(function(n){if(!(gt(n)&&n>=0))throw"Expected a number 0 or greater."})}function zt(n,t){return new Bt(function(t){if(!(null===t||st(t)&&t instanceof Object))throw"Expected an Object.";null!=n&&n(t)},t)}function Gt(n){return new Bt(function(n){if(null!==n&&!pt(n))throw"Expected a Function."},n)}function $t(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var Ht=function(){function n(n,t){var e=0,r="";mt(n)?(this.data_=n,e=n.size,r=n.type):n instanceof ArrayBuffer?(t?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),e=this.data_.length):n instanceof Uint8Array&&(t?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),e=n.length),this.size_=e,this.type_=r}return n.prototype.size=function(){return this.size_},n.prototype.type=function(){return this.type_},n.prototype.slice=function(t,e){if(mt(this.data_)){var r=(o=t,u=e,(l=this.data_).webkitSlice?l.webkitSlice(o,u):l.mozSlice?l.mozSlice(o,u):l.slice?l.slice(o,u):null);return null===r?null:new n(r)}var l,o,u;return new n(new Uint8Array(this.data_.buffer,t,e-t),!0)},n.getBlob=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(vt()){var r=t.map(function(t){return t instanceof n?t.data_:t});return new n((function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=$t();if(void 0!==e){for(var r=new e,l=0;l<n.length;l++)r.append(n[l]);return r.getBlob()}if(vt())return new Blob(n);throw Error("This browser doesn't seem to support creating Blobs")}).apply(null,r))}var l=t.map(function(n){return dt(n)?Zn(Hn.RAW,n).data:n.data_}),o=0;l.forEach(function(n){o+=n.byteLength});var u=new Uint8Array(o),i=0;return l.forEach(function(n){for(var t=0;t<n.length;t++)u[i++]=n[t]}),new n(u,!0)},n.prototype.uploadData=function(){return this.data_},n}();function Kt(n,t){return-1!==n.indexOf(t)}var Xt=function(){return function(n,t,e,r){this.url=n,this.method=t,this.handler=e,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Zt(n){if(!n)throw Bn()}function Jt(n,t){return function(e,r){var l=Tt(n,r,t);return Zt(null!==l),l}}function Yt(n){return function(t,e){var r;return(r=401===t.getStatus()?new Fn(jn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new Fn(jn.QUOTA_EXCEEDED,"Quota for bucket '"+n.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new Fn(jn.UNAUTHORIZED,"User does not have permission to access '"+n.path+"'."):e).setServerResponseProp(e.serverResponseProp()),r}}function Qt(n){var t=Yt(n);return function(e,r){var l=t(e,r);return 404===e.getStatus()&&(l=new Fn(jn.OBJECT_NOT_FOUND,"Object '"+n.path+"' does not exist.")),l.setServerResponseProp(r.serverResponseProp()),l}}function ne(n,t,e){var r=Ct(t.fullServerUrl()),l=n.maxOperationRetryTime(),o=new Xt(r,"GET",Jt(n,e),l);return o.errorHandler=Qt(t),o}function te(n,t,e){var r=ut(e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=function(n,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var ee=function(){return function(n,t,e,r){this.current=n,this.total=t,this.finalized=!!e,this.metadata=r||null}}();function re(n,t){var e;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Zt(!1)}return Zt(Kt(t||["active"],e)),e}var le=function(){return function(n,t,e){if(pt(n)||st(t)||st(e))this.next=n,this.error=t||null,this.complete=e||null;else{var r=n;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),oe=function(){return function(n,t,e,r,l,o){this.bytesTransferred=n,this.totalBytes=t,this.state=e,this.metadata=r,this.task=l,this.ref=o}}();function ue(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];at(!0).then(function(){n.apply(null,t)})}}var ie=function(){function n(n,t,e,r,l,o){var u=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=n,this.authWrapper_=t,this.location_=e,this.blob_=l,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=tt.RUNNING,this.errorHandler_=function(n){u.request_=null,u.chunkMultiplier_=1,n.codeEquals(jn.CANCELED)?(u.needToFetchStatus_=!0,u.completeTransitions_()):(u.error_=n,u.transition_(tt.ERROR))},this.metadataErrorHandler_=function(n){u.request_=null,n.codeEquals(jn.CANCELED)?u.completeTransitions_():(u.error_=n,u.transition_(tt.ERROR))},this.promise_=it(function(n,t){u.resolve_=n,u.reject_=t,u.start_()}),this.promise_.then(null,function(){})}return n.prototype.makeProgressCallback_=function(){var n=this,t=this.transferred_;return function(e,r){n.updateProgress_(t+e)}},n.prototype.shouldDoResumable_=function(n){return n.size()>262144},n.prototype.start_=function(){this.state_===tt.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},n.prototype.resolveToken_=function(n){var t=this;this.authWrapper_.getAuthToken().then(function(e){switch(t.state_){case tt.RUNNING:n(e);break;case tt.CANCELING:t.transition_(tt.CANCELED);break;case tt.PAUSING:t.transition_(tt.PAUSED)}})},n.prototype.createResumable_=function(){var n=this;this.resolveToken_(function(t){var e=function(n,t,e,r,l){var o=t.bucketOnlyServerUrl(),u=te(t,r,l),i={name:u.fullPath},a=Ct(o),s={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},c=It(u,e),p=n.maxUploadRetryTime(),f=new Xt(a,"POST",function(n,t){var e;re(n);try{e=n.getResponseHeader("X-Goog-Upload-URL")}catch(r){Zt(!1)}return Zt(dt(e)),e},p);return f.urlParams=i,f.headers=s,f.body=c,f.errorHandler=Yt(t),f}(n.authWrapper_,n.location_,n.mappings_,n.blob_,n.metadata_),r=n.authWrapper_.makeRequest(e,t);n.request_=r,r.getPromise().then(function(t){n.request_=null,n.uploadUrl_=t,n.needToFetchStatus_=!1,n.completeTransitions_()},n.errorHandler_)})},n.prototype.fetchStatus_=function(){var n=this,t=this.uploadUrl_;this.resolveToken_(function(e){var r=function(t,e,r,l){var o=n.authWrapper_.maxUploadRetryTime(),u=new Xt(r,"POST",function(n,t){var e=re(n,["active","final"]),r=null;try{r=n.getResponseHeader("X-Goog-Upload-Size-Received")}catch(u){Zt(!1)}var o=parseInt(r,10);return Zt(!isNaN(o)),new ee(o,l.size(),"final"===e)},o);return u.headers={"X-Goog-Upload-Command":"query"},u.errorHandler=Yt(e),u}(0,n.location_,t,n.blob_),l=n.authWrapper_.makeRequest(r,e);n.request_=l,l.getPromise().then(function(t){t=t,n.request_=null,n.updateProgress_(t.current),n.needToFetchStatus_=!1,t.finalized&&(n.needToFetchMetadata_=!0),n.completeTransitions_()},n.errorHandler_)})},n.prototype.continueUpload_=function(){var n=this,t=262144*this.chunkMultiplier_,e=new ee(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(l){var o;try{o=function(n,t,e,r,l,o,u,i){var a=new ee(0,0);if(u?(a.current=u.current,a.total=u.total):(a.current=0,a.total=r.size()),r.size()!==a.total)throw new Fn(jn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var s=a.total-a.current,c=s;l>0&&(c=Math.min(c,l));var p=a.current,f={"X-Goog-Upload-Command":c===s?"upload, finalize":"upload","X-Goog-Upload-Offset":a.current},h=r.slice(p,p+c);if(null===h)throw qn();var d=t.maxUploadRetryTime(),b=new Xt(e,"POST",function(n,e){var l,u=re(n,["active","final"]),i=a.current+c,s=r.size();return l="final"===u?Jt(t,o)(n,e):null,new ee(i,s,"final"===u,l)},d);return b.headers=f,b.body=h.uploadData(),b.progressCallback=i||null,b.errorHandler=Yt(n),b}(n.location_,n.authWrapper_,r,n.blob_,t,n.mappings_,e,n.makeProgressCallback_())}catch(i){return n.error_=i,void n.transition_(tt.ERROR)}var u=n.authWrapper_.makeRequest(o,l);n.request_=u,u.getPromise().then(function(t){n.increaseMultiplier_(),n.request_=null,n.updateProgress_(t.current),t.finalized?(n.metadata_=t.metadata,n.transition_(tt.SUCCESS)):n.completeTransitions_()},n.errorHandler_)})},n.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},n.prototype.fetchMetadata_=function(){var n=this;this.resolveToken_(function(t){var e=ne(n.authWrapper_,n.location_,n.mappings_),r=n.authWrapper_.makeRequest(e,t);n.request_=r,r.getPromise().then(function(t){n.request_=null,n.metadata_=t,n.transition_(tt.SUCCESS)},n.metadataErrorHandler_)})},n.prototype.oneShotUpload_=function(){var n=this;this.resolveToken_(function(t){var e=function(n,t,e,r,l){var o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},i=function(){for(var n="",t=0;t<2;t++)n+=Math.random().toString().slice(2);return n}();u["Content-Type"]="multipart/related; boundary="+i;var a=te(t,r,l),s=It(a,e),c=Ht.getBlob("--"+i+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+s+"\r\n--"+i+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",r,"\r\n--"+i+"--");if(null===c)throw qn();var p={name:a.fullPath},f=Ct(o),h=n.maxUploadRetryTime(),d=new Xt(f,"POST",Jt(n,e),h);return d.urlParams=p,d.headers=u,d.body=c.uploadData(),d.errorHandler=Yt(t),d}(n.authWrapper_,n.location_,n.mappings_,n.blob_,n.metadata_),r=n.authWrapper_.makeRequest(e,t);n.request_=r,r.getPromise().then(function(t){n.request_=null,n.metadata_=t,n.updateProgress_(n.blob_.size()),n.transition_(tt.SUCCESS)},n.errorHandler_)})},n.prototype.updateProgress_=function(n){var t=this.transferred_;this.transferred_=n,this.transferred_!==t&&this.notifyObservers_()},n.prototype.transition_=function(n){if(this.state_!==n)switch(n){case tt.CANCELING:case tt.PAUSING:this.state_=n,null!==this.request_&&this.request_.cancel();break;case tt.RUNNING:var t=this.state_===tt.PAUSED;this.state_=n,t&&(this.notifyObservers_(),this.start_());break;case tt.PAUSED:this.state_=n,this.notifyObservers_();break;case tt.CANCELED:this.error_=Vn(),this.state_=n,this.notifyObservers_();break;case tt.ERROR:case tt.SUCCESS:this.state_=n,this.notifyObservers_()}},n.prototype.completeTransitions_=function(){switch(this.state_){case tt.PAUSING:this.transition_(tt.PAUSED);break;case tt.CANCELING:this.transition_(tt.CANCELED);break;case tt.RUNNING:this.start_()}},Object.defineProperty(n.prototype,"snapshot",{get:function(){var n=rt(this.state_);return new oe(this.transferred_,this.blob_.size(),n,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),n.prototype.on=function(n,t,e,r){var l="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=Gt(!0).validator,u=zt(null,!0).validator;function i(n){try{return void o(n)}catch(t){}try{if(u(n),!(ct(n.next)||ct(n.error)||ct(n.complete)))throw"";return}catch(t){throw l}}Mt("on",[Vt(function(t){if(n!==nt.STATE_CHANGED)throw"Expected one of the event types: ["+nt.STATE_CHANGED+"]."}),zt(i,!0),Gt(!0),Gt(!0)],arguments);var a=this;function s(n){return function(t,e,l){null!==n&&Mt("on",n,arguments);var o=new le(t,e,r);return a.addObserver_(o),function(){a.removeObserver_(o)}}}var c=[zt(function(n){if(null===n)throw l;i(n)}),Gt(!0),Gt(!0)];return ct(t)||ct(e)||ct(r)?s(null)(t,e,r):s(c)},n.prototype.then=function(n,t){return this.promise_.then(n,t)},n.prototype.catch=function(n){return this.then(null,n)},n.prototype.addObserver_=function(n){this.observers_.push(n),this.notifyObserver_(n)},n.prototype.removeObserver_=function(n){var t,e;-1!==(e=(t=this.observers_).indexOf(n))&&t.splice(e,1)},n.prototype.notifyObservers_=function(){var n=this;this.finishPromise_(),Array.prototype.slice.call(this.observers_).forEach(function(t){n.notifyObserver_(t)})},n.prototype.finishPromise_=function(){if(null!==this.resolve_){var n=!0;switch(rt(this.state_)){case et.SUCCESS:ue(this.resolve_.bind(null,this.snapshot))();break;case et.CANCELED:case et.ERROR:ue(this.reject_.bind(null,this.error_))();break;default:n=!1}n&&(this.resolve_=null,this.reject_=null)}},n.prototype.notifyObserver_=function(n){switch(rt(this.state_)){case et.RUNNING:case et.PAUSED:n.next&&ue(n.next.bind(n,this.snapshot))();break;case et.SUCCESS:n.complete&&ue(n.complete.bind(n))();break;case et.CANCELED:case et.ERROR:n.error&&ue(n.error.bind(n,this.error_))();break;default:n.error&&ue(n.error.bind(n,this.error_))()}},n.prototype.resume=function(){Mt("resume",[],arguments);var n=this.state_===tt.PAUSED||this.state_===tt.PAUSING;return n&&this.transition_(tt.RUNNING),n},n.prototype.pause=function(){Mt("pause",[],arguments);var n=this.state_===tt.RUNNING;return n&&this.transition_(tt.PAUSING),n},n.prototype.cancel=function(){Mt("cancel",[],arguments);var n=this.state_===tt.RUNNING||this.state_===tt.PAUSING;return n&&this.transition_(tt.CANCELING),n},n}(),ae=function(){function n(n,t){this.authWrapper=n,this.location=t instanceof Et?t:Et.makeFromUrl(t)}return n.prototype.toString=function(){return Mt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},n.prototype.newRef=function(t,e){return new n(t,e)},n.prototype.mappings=function(){return function(){if(At)return At;var n=[];n.push(new kt("bucket")),n.push(new kt("generation")),n.push(new kt("metageneration")),n.push(new kt("name","fullPath",!0));var t=new kt("name");t.xform=function(n,t){return function(n){return!dt(n)||n.length<2?n:St(n=n)}(t)},n.push(t);var e=new kt("size");return e.xform=function(n,t){return st(t)?+t:t},n.push(e),n.push(new kt("timeCreated")),n.push(new kt("updated")),n.push(new kt("md5Hash",null,!0)),n.push(new kt("cacheControl",null,!0)),n.push(new kt("contentDisposition",null,!0)),n.push(new kt("contentEncoding",null,!0)),n.push(new kt("contentLanguage",null,!0)),n.push(new kt("contentType",null,!0)),n.push(new kt("metadata","customMetadata",!0)),At=n}()},n.prototype.child=function(n){Mt("child",[Vt()],arguments);var t=function(n,t){var e=t.split("/").filter(function(n){return n.length>0}).join("/");return 0===n.length?e:n+"/"+e}(this.location.path,n),e=new Et(this.location.bucket,t);return this.newRef(this.authWrapper,e)},Object.defineProperty(n.prototype,"parent",{get:function(){var n=function(n){if(0==n.length)return null;var t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this.location.path);if(null===n)return null;var t=new Et(this.location.bucket,n);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){var n=new Et(this.location.bucket,"");return this.newRef(this.authWrapper,n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return St(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),n.prototype.put=function(n,t){return void 0===t&&(t=null),Mt("put",[new Bt(function(n){if(!(n instanceof Uint8Array||n instanceof ArrayBuffer||vt()&&n instanceof Blob))throw"Expected Blob or File."}),qt(!0)],arguments),this.throwIfRoot_("put"),new ie(this,this.authWrapper,this.location,this.mappings(),new Ht(n),t)},n.prototype.putString=function(n,t,e){void 0===t&&(t=Hn.RAW),Mt("putString",[Vt(),Vt(Kn,!0),qt(!0)],arguments),this.throwIfRoot_("putString");var r=Zn(t,n),l=ut(e);return!st(l.contentType)&&st(r.contentType)&&(l.contentType=r.contentType),new ie(this,this.authWrapper,this.location,this.mappings(),new Ht(r.data,!0),l)},n.prototype.delete=function(){Mt("delete",[],arguments),this.throwIfRoot_("delete");var n=this;return this.authWrapper.getAuthToken().then(function(t){var e=function(n,t){var e=Ct(t.fullServerUrl()),r=n.maxOperationRetryTime(),l=new Xt(e,"DELETE",function(n,t){},r);return l.successCodes=[200,204],l.errorHandler=Qt(t),l}(n.authWrapper,n.location);return n.authWrapper.makeRequest(e,t).getPromise()})},n.prototype.listAll=function(){Mt("listAll",[],arguments);var n={prefixes:[],items:[]};return this.listAllHelper(n).then(function(){return n})},n.prototype.listAllHelper=function(n,t){return e=this,l=function(){var e,r,l;return function(n,t){var e,r,l,o,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;u;)try{if(e=1,r&&(l=2&o[0]?r.return:o[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,o[1])).done)return l;switch(r=0,l&&(o=[2&o[0],l.value]),o[0]){case 0:case 1:l=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(l=(l=u.trys).length>0&&l[l.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){u.label=o[1];break}if(6===o[0]&&u.label<l[1]){u.label=l[1],l=o;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(o);break}l[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(n,u)}catch(i){o=[6,i],r=0}finally{e=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,function(o){switch(o.label){case 0:return[4,this.list({pageToken:t})];case 1:return l=o.sent(),(e=n.prefixes).push.apply(e,l.prefixes),(r=n.items).push.apply(r,l.items),null==l.nextPageToken?[3,3]:[4,this.listAllHelper(n,l.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}})},new((r=void 0)||(r=Promise))(function(n,t){function o(n){try{i(l.next(n))}catch(e){t(e)}}function u(n){try{i(l.throw(n))}catch(e){t(e)}}function i(t){t.done?n(t.value):new r(function(n){n(t.value)}).then(o,u)}i((l=l.apply(e,[])).next())});var e,r,l},n.prototype.list=function(n){Mt("list",[new Bt(jt,!0)],arguments);var t=this;return this.authWrapper.getAuthToken().then(function(e){var r=n||{},l=function(n,t,e,r,l){var o={};o.prefix=t.isRoot?"":t.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),l&&(o.maxResults=l);var u=Ct(t.bucketOnlyServerUrl()),i=n.maxOperationRetryTime(),a=new Xt(u,"GET",function(n){return function(t,e){var r=function(n,t){var r=xt(e);return null===r?null:function(n,t){var e={prefixes:[],items:[],nextPageToken:t.nextPageToken},r=n.bucket();if(null===r)throw new Fn(jn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Dn+"' property when initializing the app?");if(t[Lt])for(var l=0,o=t[Lt];l<o.length;l++){var u=o[l].replace(/\/$/,""),i=n.makeStorageReference(new Et(r,u));e.prefixes.push(i)}if(t[Ft])for(var a=0,s=t[Ft];a<s.length;a++)i=n.makeStorageReference(new Et(r,s[a].name)),e.items.push(i);return e}(n,r)}(n);return Zt(null!==r),r}}(n),i);return a.urlParams=o,a.errorHandler=Yt(t),a}(t.authWrapper,t.location,0,r.pageToken,r.maxResults);return t.authWrapper.makeRequest(l,e).getPromise()})},n.prototype.getMetadata=function(){Mt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var n=this;return this.authWrapper.getAuthToken().then(function(t){var e=ne(n.authWrapper,n.location,n.mappings());return n.authWrapper.makeRequest(e,t).getPromise()})},n.prototype.updateMetadata=function(n){Mt("updateMetadata",[qt()],arguments),this.throwIfRoot_("updateMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var r=function(n,t,e,r){var l=Ct(t.fullServerUrl()),o=It(e,r),u=n.maxOperationRetryTime(),i=new Xt(l,"PATCH",Jt(n,r),u);return i.headers={"Content-Type":"application/json; charset=utf-8"},i.body=o,i.errorHandler=Qt(t),i}(t.authWrapper,t.location,n,t.mappings());return t.authWrapper.makeRequest(r,e).getPromise()})},n.prototype.getDownloadURL=function(){Mt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var n=this;return this.authWrapper.getAuthToken().then(function(t){var e=function(n,t,e){var r=Ct(t.fullServerUrl()),l=n.maxOperationRetryTime(),o=new Xt(r,"GET",function(n,t){return function(e,r){var l=Tt(n,r,t);return Zt(null!==l),function(n,t){var e=xt(r);if(null===e)return null;if(!dt(e.downloadTokens))return null;var l=e.downloadTokens;if(0===l.length)return null;var o=encodeURIComponent;return l.split(",").map(function(t){var e=n.fullPath;return Ct("/b/"+o(n.bucket)+"/o/"+o(e))+Ot({alt:"media",token:t})})[0]}(l)}}(n,e),l);return o.errorHandler=Qt(t),o}(n.authWrapper,n.location,n.mappings());return n.authWrapper.makeRequest(e,t).getPromise().then(function(n){if(null===n)throw new Fn(jn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return n})})},n.prototype.throwIfRoot_=function(n){if(""===this.location.path)throw function(n){return new Fn(jn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(n)},n}(),se=function(){function n(n){this.promise_=function(n){return Promise.reject(n)}(n)}return n.prototype.getPromise=function(){return this.promise_},n.prototype.cancel=function(n){void 0===n&&(n=!1)},n}(),ce=function(){function n(){this.map_={},this.id_=Ln}return n.prototype.addRequest=function(n){var t=this.id_;this.id_++,this.map_[t]=n;var e=this;function r(){delete e.map_[t]}n.getPromise().then(r,r)},n.prototype.clear=function(){ot(this.map_,function(n,t){t&&t.cancel(!0)}),this.map_={}},n}(),pe=function(){function n(t,e,r,l,o){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var u=this.app_.options;st(u)&&(this.bucket_=n.extractBucket_(u))}this.storageRefMaker_=e,this.requestMaker_=r,this.pool_=o,this.service_=l,this.maxOperationRetryTime_=Pn,this.maxUploadRetryTime_=Un,this.requestMap_=new ce}return n.extractBucket_=function(n){var t=n[Dn]||null;return null==t?null:Et.makeFromBucketSpec(t).bucket},n.prototype.getAuthToken=function(){return null!==this.app_&&st(this.app_.INTERNAL)&&st(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(n){return null!==n?n.accessToken:null},function(n){return null}):at(null)},n.prototype.bucket=function(){if(this.deleted_)throw zn();return this.bucket_},n.prototype.service=function(){return this.service_},n.prototype.makeStorageReference=function(n){return this.storageRefMaker_(this,n)},n.prototype.makeRequest=function(n,t){if(this.deleted_)return new se(zn());var e=this.requestMaker_(n,t,this.pool_);return this.requestMap_.addRequest(e),e},n.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},n.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},n.prototype.setMaxUploadRetryTime=function(n){this.maxUploadRetryTime_=n},n.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},n.prototype.setMaxOperationRetryTime=function(n){this.maxOperationRetryTime_=n},n}(),fe=function(){function n(n,t,e,r,l,o,u,i,a,s,c){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=n,this.method_=t,this.headers_=e,this.body_=r,this.successCodes_=l.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=u,this.errorCallback_=i,this.progressCallback_=s,this.timeout_=a,this.pool_=c;var p=this;this.promise_=it(function(n,t){p.resolve_=n,p.reject_=t,p.start_()})}return n.prototype.start_=function(){var n=this;function t(t,e){var r,l=n.resolve_,o=n.reject_,u=e.xhr;if(e.wasSuccessCode)try{var i=n.callback_(u,u.getResponseText());ct(i)?l(i):l()}catch(a){o(a)}else null!==u?((r=Bn()).setServerResponseProp(u.getResponseText()),o(n.errorCallback_?n.errorCallback_(u,r):r)):o(r=e.canceled?n.appDelete_?zn():Vn():new Fn(jn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new he(!1,null,!0)):this.backoffId_=function(n,t,e){var r=1,l=null,o=!1,u=0;function i(){return 2===u}var a=!1;function s(){a||(a=!0,t.apply(null,arguments))}function c(t){l=setTimeout(function(){l=null,n(p,i())},t)}function p(n){for(var t,e=[],l=1;l<arguments.length;l++)e[l-1]=arguments[l];a||(n?s.apply(null,arguments):i()||o?s.apply(null,arguments):(r<64&&(r*=2),1===u?(u=2,t=0):t=1e3*(r+Math.random()),c(t)))}var f=!1;function h(n){f||(f=!0,a||(null!==l?(n||(u=2),clearTimeout(l),c(0)):n||(u=1)))}return c(0),setTimeout(function(){o=!0,h(!0)},e),h}(function(t,e){if(e)t(!1,new he(!1,null,!0));else{var r=n.pool_.createXhrIo();n.pendingXhr_=r,null!==n.progressCallback_&&r.addUploadProgressListener(l),r.send(n.url_,n.method_,n.body_,n.headers_).then(function(e){null!==n.progressCallback_&&e.removeUploadProgressListener(l),n.pendingXhr_=null;var r=(e=e).getErrorCode()===yt.NO_ERROR,o=e.getStatus();if(r&&!n.isRetryStatusCode_(o)){var u=Kt(n.successCodes_,o);t(!0,new he(u,e))}else{var i=e.getErrorCode()===yt.ABORT;t(!1,new he(!1,null,i))}})}function l(t){null!==n.progressCallback_&&n.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}},t,this.timeout_)},n.prototype.getPromise=function(){return this.promise_},n.prototype.cancel=function(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},n.prototype.isRetryStatusCode_=function(n){var t=n>=500&&n<600,e=Kt([408,429],n),r=Kt(this.additionalRetryCodes_,n);return t||e||r},n}(),he=function(){return function(n,t,e){this.wasSuccessCode=n,this.xhr=t,this.canceled=!!e}}();function de(n,t,e){var r=Ot(n.urlParams),l=n.url+r,o=ut(n.headers);return function(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(o,t),function(n){n["X-Firebase-Storage-Version"]="webjs/"+(void 0!==In.a?In.a.SDK_VERSION:"AppManager")}(o),new fe(l,n.method,o,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,e)}var be=function(){function n(n,t,e){if(this.bucket_=null,this.authWrapper_=new pe(n,function(n,t){return new ae(n,t)},de,this,t),this.app_=n,null!=e)this.bucket_=Et.makeFromBucketSpec(e);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new Et(r,""))}this.internals_=new ge(this)}return n.prototype.ref=function(n){if(Mt("ref",[Vt(function(n){if(/^[A-Za-z]+:\/\//.test(n))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var t=new ae(this.authWrapper_,this.bucket_);return null!=n?t.child(n):t},n.prototype.refFromURL=function(n){return Mt("refFromURL",[Vt(function(n){if(!/^[A-Za-z]+:\/\//.test(n))throw"Expected full URL but got a child path, use ref instead.";try{Et.makeFromUrl(n)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new ae(this.authWrapper_,n)},Object.defineProperty(n.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),n.prototype.setMaxUploadRetryTime=function(n){Mt("setMaxUploadRetryTime",[Wt()],arguments),this.authWrapper_.setMaxUploadRetryTime(n)},n.prototype.setMaxOperationRetryTime=function(n){Mt("setMaxOperationRetryTime",[Wt()],arguments),this.authWrapper_.setMaxOperationRetryTime(n)},Object.defineProperty(n.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),n}(),ge=function(){function n(n){this.service_=n}return n.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),at(void 0)},n}();In.a.INTERNAL.registerService("storage",function(n,t,e){return new be(n,new wt,e)},{TaskState:et,TaskEvent:nt,StringFormat:Hn,Storage:be,Reference:ae},void 0,!0);var me=function(){return function(){}}(),ve=e("PCNd"),ye=function(){return function(){}}();e.d(t,"ContactsModuleNgFactory",function(){return _e});var _e=r.mb(o,[],function(n){return r.vb([r.wb(512,r.j,r.Z,[[8,[u.a,w,T,an,gn,kn]],[3,r.j],r.x]),r.wb(4608,a.m,a.l,[r.u,[2,a.u]]),r.wb(4608,An.j,An.p,[a.d,r.B,An.n]),r.wb(4608,An.q,An.q,[An.j,An.o]),r.wb(5120,An.a,function(n){return[n]},[An.q]),r.wb(4608,An.m,An.m,[]),r.wb(6144,An.k,null,[An.m]),r.wb(4608,An.i,An.i,[An.k]),r.wb(6144,An.b,null,[An.i]),r.wb(4608,An.f,An.l,[An.b,r.q]),r.wb(4608,An.c,An.c,[An.f]),r.wb(4608,x.d,x.d,[]),r.wb(4608,x.p,x.p,[]),r.wb(5120,$,H,[z,[2,G]]),r.wb(4608,Z,Z,[z,[2,G],[2,X],r.B,r.z]),r.wb(4608,g,g,[b.a,i.o]),r.wb(1073742336,a.c,a.c,[]),r.wb(1073742336,An.e,An.e,[]),r.wb(1073742336,An.d,An.d,[]),r.wb(1073742336,x.o,x.o,[]),r.wb(1073742336,x.m,x.m,[]),r.wb(1073742336,x.g,x.g,[]),r.wb(1073742336,i.q,i.q,[[2,i.v],[2,i.o]]),r.wb(1073742336,ve.a,ve.a,[]),r.wb(1073742336,ye,ye,[]),r.wb(1073742336,K,K,[]),r.wb(1073742336,me,me,[]),r.wb(1073742336,o,o,[]),r.wb(256,An.n,"XSRF-TOKEN",[]),r.wb(256,An.o,"X-XSRF-TOKEN",[]),r.wb(1024,i.m,function(){return[[{path:"",component:m,children:[{path:"",component:E},{path:"new",component:J},{path:":id",component:sn},{path:":id/edit",component:vn}]}]]},[]),r.wb(256,z,{apiKey:"AIzaSyCuSRroU3vGqVS0PjAdkr67aheIQMmptB8",authDomain:"ng-phonebook-58f04.firebaseapp.com",databaseURL:"https://ng-phonebook-58f04.firebaseio.com",projectId:"ng-phonebook-58f04",storageBucket:"ng-phonebook-58f04.appspot.com",messagingSenderId:"870796540855",appId:"1:870796540855:web:591e3635f2ffddc4"},[]),r.wb(256,G,void 0,[]),r.wb(256,X,l,[])])})},Wcq6:function(n,t,e){"use strict";var r,l=(r=e("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;n.exports=l},"q/0M":function(n,t,e){"use strict";e.r(t),e.d(t,"LogLevel",function(){return l}),e.d(t,"Logger",function(){return i}),e.d(t,"setLogLevel",function(){return a});var r=[],l=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}({}),o=l.INFO,u=function(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];if(!(t<n.logLevel)){var o=(new Date).toISOString();switch(t){case l.DEBUG:case l.VERBOSE:console.log.apply(console,["["+o+"]  "+n.name+":"].concat(e));break;case l.INFO:console.info.apply(console,["["+o+"]  "+n.name+":"].concat(e));break;case l.WARN:console.warn.apply(console,["["+o+"]  "+n.name+":"].concat(e));break;case l.ERROR:console.error.apply(console,["["+o+"]  "+n.name+":"].concat(e));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},i=function(){function n(n){this.name=n,this._logLevel=o,this._logHandler=u,r.push(this)}return Object.defineProperty(n.prototype,"logLevel",{get:function(){return this._logLevel},set:function(n){if(!(n in l))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"logHandler",{get:function(){return this._logHandler},set:function(n){if("function"!=typeof n)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n},enumerable:!0,configurable:!0}),n.prototype.debug=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._logHandler.apply(this,[this,l.DEBUG].concat(n))},n.prototype.log=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._logHandler.apply(this,[this,l.VERBOSE].concat(n))},n.prototype.info=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._logHandler.apply(this,[this,l.INFO].concat(n))},n.prototype.warn=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._logHandler.apply(this,[this,l.WARN].concat(n))},n.prototype.error=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._logHandler.apply(this,[this,l.ERROR].concat(n))},n}();function a(n){r.forEach(function(t){t.logLevel=n})}},wj3C:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,l=e("30Go"),o=e("zVF4"),u=e("q/0M"),i=((r={})["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$name}",r["duplicate-app"]="Firebase App named '{$name}' already exists",r["app-deleted"]="Firebase App named '{$name}' already deleted",r["duplicate-service"]="Firebase service named '{$name}' already registered",r["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",r),a=new o.ErrorFactory("app","Firebase",i),s="[DEFAULT]",c=[],p=function(){function n(n,t,e){this.firebase_=e,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(n),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(n){c.push(n),setTimeout(function(){return n(null)},0)},removeAuthTokenListener:function(n){c=c.filter(function(t){return t!==n})}}}return Object.defineProperty(n.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(n){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),n.prototype.delete=function(){var n=this;return new Promise(function(t){n.checkDestroyed_(),t()}).then(function(){n.firebase_.INTERNAL.removeApp(n.name_);for(var t=[],e=0,r=Object.keys(n.services_);e<r.length;e++)for(var l=r[e],o=0,u=Object.keys(n.services_[l]);o<u.length;o++)t.push(n.services_[l][u[o]]);return Promise.all(t.filter(function(n){return"INTERNAL"in n}).map(function(n){return n.INTERNAL.delete()}))}).then(function(){n.isDeleted_=!0,n.services_={}})},n.prototype._getService=function(n,t){if(void 0===t&&(t=s),this.checkDestroyed_(),this.services_[n]||(this.services_[n]={}),!this.services_[n][t]){var e=t!==s?t:void 0,r=this.firebase_.INTERNAL.factories[n](this,this.extendApp.bind(this),e);this.services_[n][t]=r}return this.services_[n][t]},n.prototype.extendApp=function(n){var t=this;o.deepExtend(this,n),n.INTERNAL&&n.INTERNAL.addAuthTokenListener&&(c.forEach(function(n){t.INTERNAL.addAuthTokenListener(n)}),c=[])},n.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw a.create("app-deleted",{name:this.name_})},n}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var f=new u.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var h=self.firebase.SDK_VERSION;h&&h.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var d=function n(){var t=function(n){var t={},e={},r={},l={__esModule:!0,initializeApp:function(e,r){void 0===r&&(r={}),("object"!=typeof r||null===r)&&(r={name:r});var u=r;void 0===u.name&&(u.name=s);var i=u.name;if("string"!=typeof i||!i)throw a.create("bad-app-name",{name:String(i)});if(o.contains(t,i))throw a.create("duplicate-app",{name:i});var p=new n(e,u,l);return t[i]=p,c(p,"create"),p},app:u,apps:null,SDK_VERSION:"6.2.3",INTERNAL:{registerService:function(t,s,c,p,f){if(void 0===f&&(f=!1),e[t])throw a.create("duplicate-service",{name:t});function h(n){if(void 0===n&&(n=u()),"function"!=typeof n[t])throw a.create("invalid-app-argument",{name:t});return n[t]()}return e[t]=s,p&&(r[t]=p,i().forEach(function(n){p("create",n)})),void 0!==c&&o.deepExtend(h,c),l[t]=h,n.prototype[t]=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return this._getService.bind(this,t).apply(this,f?n:[])},h},removeApp:function(n){c(t[n],"delete"),delete t[n]},factories:e,useAsService:p}};function u(n){if(!o.contains(t,n=n||s))throw a.create("no-app",{name:n});return t[n]}function i(){return Object.keys(t).map(function(n){return t[n]})}function c(n,t){for(var l=0,o=Object.keys(e);l<o.length;l++){var u=p(0,o[l]);if(null===u)return;r[u]&&r[u](t,n)}}function p(n,t){return"serverAuth"===t?null:t}return l.default=l,Object.defineProperty(l,"apps",{get:i}),u.App=n,l}(p);return t.INTERNAL=l.__assign({},t.INTERNAL,{createFirebaseNamespace:n,extendNamespace:function(n){o.deepExtend(t,n)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),b=d.initializeApp;d.initializeApp=function(){return o.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\n      to false and "main" to true:\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),b.apply(void 0,arguments)};var g=d;t.default=g,t.firebase=g},zVF4:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("+7AZ"),l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(n,t){if(!n)throw u(t)},u=function(n){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)},i=function(n){for(var t=[],e=0,r=0;r<n.length;r++){var l=n.charCodeAt(r);l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=63&l|128):55296==(64512&l)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(l=65536+((1023&l)<<10)+(1023&n.charCodeAt(++r)),t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=63&l|128):(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=63&l|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],l=0;l<n.length;l+=3){var o=n[l],u=l+1<n.length,i=u?n[l+1]:0,a=l+2<n.length,s=a?n[l+2]:0,c=(15&i)<<2|s>>6,p=63&s;a||(p=64,u||(c=64)),r.push(e[o>>2],e[(3&o)<<4|i>>4],e[c],e[p])}return r.join("")},encodeString:function(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(i(n),t)},decodeString:function(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){for(var t=[],e=0,r=0;e<n.length;){var l=n[e++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){var o=n[e++];t[r++]=String.fromCharCode((31&l)<<6|63&o)}else if(l>239&&l<365){var u=((7&l)<<18|(63&(o=n[e++]))<<12|(63&(i=n[e++]))<<6|63&n[e++])-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{o=n[e++];var i=n[e++];t[r++]=String.fromCharCode((15&l)<<12|(63&o)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray:function(n,t){this.init_();for(var e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],l=0;l<n.length;){var o=e[n.charAt(l++)],u=l<n.length?e[n.charAt(l)]:0,i=++l<n.length?e[n.charAt(l)]:64,a=++l<n.length?e[n.charAt(l)]:64;if(++l,null==o||null==u||null==i||null==a)throw Error();r.push(o<<2|u>>4),64!==i&&(r.push(u<<4&240|i>>2),64!==a&&r.push(i<<6&192|a))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},s=function(n){try{return a.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return t}for(var e in t)t.hasOwnProperty(e)&&(n[e]=c(n[e],t[e]));return n}var p=function(){function n(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return n.prototype.wrapCallback=function(n){var t=this;return function(e,r){e?t.reject(e):t.resolve(r),"function"==typeof n&&(t.promise.catch(function(){}),1===n.length?n(e):n(e,r))}},n}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var h="FirebaseError",d=function(n){function t(e,r){var l=n.call(this,r)||this;return l.code=e,l.name=h,Object.setPrototypeOf(l,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(l,b.prototype.create),l}return r.__extends(t,n),t}(Error),b=function(){function n(n,t,e){this.service=n,this.serviceName=t,this.errors=e}return n.prototype.create=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var r=t[0]||{},l=this.service+"/"+n,o=this.errors[n],u=o?function(n,t){return n.replace(g,function(n,e){var r=t[e];return null!=r?r.toString():"<"+e+"?>"})}(o,r):"Error",i=new d(l,this.serviceName+": "+u+" ("+l+")."),a=0,s=Object.keys(r);a<s.length;a++){var c=s[a];"_"!==c.slice(-1)&&(c in i&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),i[c]=r[c])}return i},n}(),g=/\{\$([^}]+)}/g;function m(n){return JSON.parse(n)}var v=function(n){var t={},e={},r={},l="";try{var o=n.split(".");t=m(s(o[0])||""),e=m(s(o[1])||""),l=o[2],r=e.d||{},delete e.d}catch(u){}return{header:t,claims:e,data:r,signature:l}},y=function(n,t){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])},_=function(n,t){return y(t,function(t,e){n[t]=e}),n},w=function(n,t,e){for(var r in n)if(t.call(e,n[r],r,n))return r},x=function(){function n(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}return n.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},n.prototype.compress_=function(n,t){t||(t=0);var e=this.W_;if("string"==typeof n)for(var r=0;r<16;r++)e[r]=n.charCodeAt(t)<<24|n.charCodeAt(t+1)<<16|n.charCodeAt(t+2)<<8|n.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)e[r]=n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3],t+=4;for(r=16;r<80;r++)e[r]=4294967295&((p=e[r-3]^e[r-8]^e[r-14]^e[r-16])<<1|p>>>31);var l,o,u=this.chain_[0],i=this.chain_[1],a=this.chain_[2],s=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(l=s^i&(a^s),o=1518500249):(l=i^a^s,o=1859775393):r<60?(l=i&a|s&(i|a),o=2400959708):(l=i^a^s,o=3395469782);var p=(u<<5|u>>>27)+l+c+o+e[r]&4294967295;c=s,s=a,a=4294967295&(i<<30|i>>>2),i=u,u=p}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},n.prototype.update=function(n,t){if(null!=n){void 0===t&&(t=n.length);for(var e=t-this.blockSize,r=0,l=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=e;)this.compress_(n,r),r+=this.blockSize;if("string"==typeof n){for(;r<t;)if(l[o]=n.charCodeAt(r),++r,++o===this.blockSize){this.compress_(l),o=0;break}}else for(;r<t;)if(l[o]=n[r],++r,++o===this.blockSize){this.compress_(l),o=0;break}}this.inbuf_=o,this.total_+=t}},n.prototype.digest=function(){var n=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(e=0;e<5;e++)for(var l=24;l>=0;l-=8)n[r]=this.chain_[e]>>l&255,++r;return n},n}(),E=function(){function n(n,t){var e=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){n(e)}).catch(function(n){e.error(n)})}return n.prototype.next=function(n){this.forEachObserver(function(t){t.next(n)})},n.prototype.error=function(n){this.forEachObserver(function(t){t.error(n)}),this.close(n)},n.prototype.complete=function(){this.forEachObserver(function(n){n.complete()}),this.close()},n.prototype.subscribe=function(n,t,e){var r,l=this;if(void 0===n&&void 0===t&&void 0===e)throw new Error("Missing Observer.");void 0===(r=function(n,t){if("object"!=typeof n||null===n)return!1;for(var e=0,r=["next","error","complete"];e<r.length;e++){var l=r[e];if(l in n&&"function"==typeof n[l])return!0}return!1}(n)?n:{next:n,error:t,complete:e}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{l.finalError?r.error(l.finalError):r.complete()}catch(n){}}),this.observers.push(r),o},n.prototype.unsubscribeOne=function(n){void 0!==this.observers&&void 0!==this.observers[n]&&(delete this.observers[n],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},n.prototype.forEachObserver=function(n){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,n)},n.prototype.sendOne=function(n,t){var e=this;this.task.then(function(){if(void 0!==e.observers&&void 0!==e.observers[n])try{t(e.observers[n])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},n.prototype.close=function(n){var t=this;this.finalized||(this.finalized=!0,void 0!==n&&(this.finalError=n),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},n}();function S(){}function C(n,t,e){var r="";switch(t){case 1:r=e?"first":"First";break;case 2:r=e?"second":"Second";break;case 3:r=e?"third":"Third";break;case 4:r=e?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return n+" failed: "+r+" argument "}t.CONSTANTS=l,t.Deferred=p,t.ErrorFactory=b,t.FirebaseError=d,t.Sha1=x,t.assert=o,t.assertionError=u,t.async=function(n,t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];Promise.resolve(!0).then(function(){n.apply(void 0,e)}).catch(function(n){t&&t(n)})}},t.base64=a,t.base64Decode=s,t.base64Encode=function(n){var t=i(n);return a.encodeByteArray(t,!0)},t.clone=function(n){return _({},n)},t.contains=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.createSubscribe=function(n,t){var e=new E(n,t);return e.subscribe.bind(e)},t.decode=v,t.deepCopy=function(n){return c(void 0,n)},t.deepExtend=c,t.errorPrefix=C,t.every=function(n,t){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&!t(e,n[e]))return!1;return!0},t.extend=_,t.findKey=w,t.findValue=function(n,t,e){var r=w(n,t,e);return r&&n[r]},t.forEach=y,t.getAnyKey=function(n){for(var t in n)return t},t.getCount=function(n){var t=0;for(var e in n)t++;return t},t.getUA=f,t.getValues=function(n){var t=[],e=0;for(var r in n)t[e++]=n[r];return t},t.isAdmin=function(n){var t=v(n).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isEmpty=function(n){for(var t in n)return!1;return!0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(n){return!1}},t.isNodeSdk=function(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN},t.isNonNullObject=function(n){return"object"==typeof n&&null!==n},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(n){var t=v(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(n){var t=v(n).claims,e=Math.floor((new Date).getTime()/1e3),r=0,l=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),l=t.hasOwnProperty("exp")?t.exp:r+86400),!!e&&!!r&&!!l&&e>=r&&e<=l},t.issuedAtTime=function(n){var t=v(n).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=m,t.map=function(n,t,e){var r={};for(var l in n)r[l]=t.call(e,n[l],l,n);return r},t.querystring=function(n){var t=[];return y(n,function(n,e){Array.isArray(e)?e.forEach(function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}),t.length?"&"+t.join("&"):""},t.querystringDecode=function(n){var t={};return n.replace(/^\?/,"").split("&").forEach(function(n){if(n){var e=n.split("=");t[e[0]]=e[1]}}),t},t.safeGet=function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]},t.stringLength=function(n){for(var t=0,e=0;e<n.length;e++){var r=n.charCodeAt(e);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,e++):t+=3}return t},t.stringToByteArray=function(n){for(var t=[],e=0,r=0;r<n.length;r++){var l=n.charCodeAt(r);if(l>=55296&&l<=56319){var u=l-55296;o(++r<n.length,"Surrogate pair missing trail surrogate."),l=65536+(u<<10)+(n.charCodeAt(r)-56320)}l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=63&l|128):l<65536?(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=63&l|128):(t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=63&l|128)}return t},t.stringify=function(n){return JSON.stringify(n)},t.validateArgCount=function(n,t,e,r){var l;if(r<t?l="at least "+t:r>e&&(l=0===e?"none":"no more than "+e),l)throw new Error(n+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+l+".")},t.validateCallback=function(n,t,e,r){if((!r||e)&&"function"!=typeof e)throw new Error(C(n,t,r)+"must be a valid function.")},t.validateContextObject=function(n,t,e,r){if((!r||e)&&("object"!=typeof e||null===e))throw new Error(C(n,t,r)+"must be a valid context object.")},t.validateNamespace=function(n,t,e,r){if((!r||e)&&"string"!=typeof e)throw new Error(C(n,t,r)+"must be a valid firebase namespace.")}}}]);